!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.sortableFlatListView,r=e.sortableFlatListView=t();r.noConflict=function(){return e.sortableFlatListView=n,r}}())}(this,(function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n,r){if(e){const o=s(e,t,n,r);return e[0](o)}}function s(e,n,r,o){return e[1]&&o?t(r.ctx.slice(),e[1](o(n))):r.ctx}function c(e,t,n,r,o,i,a){const l=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,i);if(l){const o=s(t,n,r,a);e.p(o,l)}}function u(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function d(t){return t&&i(t.destroy)?t.destroy:e}let f,p=!1;function m(e,t,n,r){for(;e<t;){const o=e+(t-e>>1);n(o)<=r?e=o+1:t=o}return e}function g(e,t){p?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let o=0;for(let e=0;e<t.length;e++){const i=m(1,o+1,(e=>t[n[e]].claim_order),t[e].claim_order)-1;r[e]=n[i]+1;const a=i+1;n[a]=e,o=Math.max(a,o)}const i=[],a=[];let l=t.length-1;for(let e=n[o]+1;0!=e;e=r[e-1]){for(i.push(t[e-1]);l>=e;l--)a.push(t[l]);l--}for(;l>=0;l--)a.push(t[l]);i.reverse(),a.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<a.length;t++){for(;n<i.length&&a[t].claim_order>=i[n].claim_order;)n++;const r=n<i.length?i[n]:null;e.insertBefore(a[t],r)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function h(e,t,n){p&&!n?g(e,t):(t.parentNode!==e||n&&t.nextSibling!==n)&&e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function x(){return b(" ")}function w(){return b("")}function D(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function T(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:$(e,r,t[r])}function E(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function A(e,t,n){e.classList[n?"add":"remove"](t)}function O(e){f=e}function L(){const e=function(){if(!f)throw new Error("Function called outside component initialization");return f}();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}const k=[],S=[],I=[],R=[],M=Promise.resolve();let P=!1;function F(e){I.push(e)}let _=!1;const H=new Set;function C(){if(!_){_=!0;do{for(let e=0;e<k.length;e+=1){const t=k[e];O(t),j(t.$$)}for(O(null),k.length=0;S.length;)S.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];H.has(t)||(H.add(t),t())}I.length=0}while(k.length);for(;R.length;)R.pop()();P=!1,_=!1,H.clear()}}function j(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}const V=new Set;let N;function z(){N={r:0,c:[],p:N}}function X(){N.r||o(N.c),N=N.p}function Y(e,t){e&&e.i&&(V.delete(e),e.i(t))}function Z(e,t,n,r){if(e&&e.o){if(V.has(e))return;V.add(e),N.c.push((()=>{V.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function q(e,t){Z(e,1,1,(()=>{t.delete(e.key)}))}function B(e,t,n,r,o,i,a,l,s,c,u,d){let f=e.length,p=i.length,m=f;const g={};for(;m--;)g[e[m].key]=m;const h=[],v=new Map,y=new Map;for(m=p;m--;){const e=d(o,i,m),l=n(e);let s=a.get(l);s?r&&s.p(e,t):(s=c(l,e),s.c()),v.set(l,h[m]=s),l in g&&y.set(l,Math.abs(m-g[l]))}const b=new Set,x=new Set;function w(e){Y(e,1),e.m(l,u),a.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=h[p-1],n=e[f-1],r=t.key,o=n.key;t===n?(u=t.first,f--,p--):v.has(o)?!a.has(r)||b.has(r)?w(t):x.has(o)?f--:y.get(r)>y.get(o)?(x.add(r),w(t)):(b.add(o),f--):(s(n,a),f--)}for(;f--;){const t=e[f];v.has(t.key)||s(t,a)}for(;p;)w(h[p-1]);return h}function K(e,t){-1===e.$$.dirty[0]&&(k.push(e),P||(P=!0,M.then(C)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function W(t,a,l,s,c,u,d=[-1]){const m=f;O(t);const g=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(m?m.$$.context:a.context||[]),callbacks:r(),dirty:d,skip_bound:!1};let h=!1;if(g.ctx=l?l(t,a.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return g.ctx&&c(g.ctx[e],g.ctx[e]=o)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](o),h&&K(t,e)),n})):[],g.update(),h=!0,o(g.before_update),g.fragment=!!s&&s(g.ctx),a.target){if(a.hydrate){p=!0;const e=function(e){return Array.from(e.childNodes)}(a.target);g.fragment&&g.fragment.l(e),e.forEach(v)}else g.fragment&&g.fragment.c();a.intro&&Y(t.$$.fragment),function(e,t,r,a){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=e.$$;l&&l.m(t,r),a||F((()=>{const t=s.map(n).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(F)}(t,a.target,a.anchor,a.customElement),p=!1,C()}O(m)}function J(e){var t=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(e);if(null==t)throw new Error(e);var n=new Error(t[2]);throw n.name=t[1],n}function G(e){return("number"==typeof e||e instanceof Number)&&isFinite(e.valueOf())}function Q(e){return("number"==typeof e||e instanceof Number)&&(e=e.valueOf(),isFinite(e)&&Math.round(e)===e)}function U(e){return"string"==typeof e||e instanceof String}var ee=/^\s*$/;function te(e){return("string"==typeof e||e instanceof String)&&!ee.test(e.valueOf())}function ne(e){return"function"==typeof e}function re(e){return null!=e&&"object"==typeof e}function oe(e){return null!=e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}var ie=Array.isArray;function ae(e,t){return t.indexOf(e)>=0}var le=!0;function se(e,t,n){var r=function(r,o){return function(e,t,n,r,o){if(null==t){if(r)return t;J("MissingArgument: no "+xe(e)+" given")}else if(n(t))switch(!0){case t instanceof Boolean:case t instanceof Number:case t instanceof String:return t.valueOf();default:return t}else J("InvalidArgument: the given "+xe(e)+" is no valid "+xe(o))}(r,o,e,t,n)},o=e.name;return null!=o&&/^ValueIs/.test(o)?function(e,t){null==e&&J("MissingArgument: no function given");"function"!=typeof e&&J("InvalidArgument: the given 1st Argument is not a JavaScript function");null==t&&J("MissingArgument: no desired name given");"string"==typeof t||t instanceof String||J("InvalidArgument: the given desired name is not a string");if(e.name===t)return e;try{if(Object.defineProperty(e,"name",{value:t}),e.name===t)return e}catch(e){}return new Function("originalFunction","return function "+t+" () {return originalFunction.apply(this,Array.prototype.slice.apply(arguments))}")(e)}(r,o.replace(/^ValueIs/,t?"allow":"expect")):r}var ce=se(G,le,"finite numeric value"),ue=se(Q,false,"integral numeric value");var de=function(e,t,n,r){return null==t?t:fe(e,t,n,r)};var fe=function(e,t,n,r){if(ue(e,t),isNaN(t)&&J("InvalidArgument: the given "+xe(e)+" is not-a-number"),null!=n&&isFinite(n)){if(null!=r&&isFinite(r)){if(t<n||t>r)throw new RangeError("the given "+xe(e)+" ("+t+") is outside the allowed range ("+n+"..."+r+")")}else if(t<n)throw new RangeError("the given "+xe(e)+" is below the allowed minimum ("+t+" < "+n+")")}else if(null!=r&&isFinite(r)&&t>r)throw new RangeError("the given "+xe(e)+" exceeds the allowed maximum ("+t+" > "+r+")");return t.valueOf()},pe=se(U,le,"literal string"),me=se(te,le,"non-empty literal string"),ge=se(ne,le,"JavaScript function"),he=se(re,false,"JavaScript object"),ve=se(oe,le,'"plain" JavaScript object'),ye=ve;var be=function(e,t,n,r,o,i){if(null==t&&J("MissingArgument: no "+xe(e)+" given"),function(e,t,n,r){if(ie(e))try{for(var o=0,i=e.length;o<i;o++)if(0==t(e[o]))return!1;return!(null!=n&&e.length<n||null!=r&&e.length>r)}catch(e){}return!1}(t,n,o,i))return t;J("InvalidArgument: the given "+xe(e)+" is "+(null==r?"either not a list or contains invalid elements":"no "+xe(r)))};function xe(e){return e.replace(/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?/g,(function(e){return"\\"===e?"\\\\":e})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}function we(e,t){return void 0===t&&(t='"'),t+function(e,t){return void 0===t&&(t='"'),e.replace("'"===t?/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|'/g:/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|"/g,(function(e){switch(e){case"'":return"\\'";case'"':return'\\"';case"\\":return"\\\\";default:return e}})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}(e,t)+t}function De(e){return!function(e){for(var t in he("candidate",e),e)if(r=t,null==(n=e)||"hasOwnProperty"in n&&"function"==typeof n.hasOwnProperty?n.hasOwnProperty(r):Object.prototype.hasOwnProperty.call(n,r))return!1;var n,r;return!0}(e)}function $e(e,t,n){return void 0===t&&(t=-1/0),void 0===n&&(n=1/0),Math.max(t,Math.min(e,n))}var Te,Ee,Ae,Oe,Le,ke,Se,Ie,Re={fromViewportTo:function(e,t,n){switch(!0){case null==t:throw new Error('no "Position" given');case"number"!=typeof t.left&&!(t.left instanceof Number):case"number"!=typeof t.top&&!(t.top instanceof Number):throw new Error('invalid "Position" given')}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left,top:t.top};case"document":return{left:t.left+window.scrollX,top:t.top+window.scrollY};case"local":switch(!0){case null==n:throw new Error("no target element given");case n instanceof Element:var r=window.getComputedStyle(n),o=parseFloat(r.borderLeftWidth),i=parseFloat(r.borderTopWidth),a=n.getBoundingClientRect();return{left:t.left-a.left-o,top:t.top-a.top-i};default:throw new Error("invalid target element given")}default:throw new Error("invalid coordinate system given")}},fromDocumentTo:function(e,t,n){switch(!0){case null==t:throw new Error('no "Position" given');case"number"!=typeof t.left&&!(t.left instanceof Number):case"number"!=typeof t.top&&!(t.top instanceof Number):throw new Error('invalid "Position" given')}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left-window.scrollX,top:t.top-window.scrollY};case"document":return{left:t.left,top:t.top};case"local":switch(!0){case null==n:throw new Error("no target element given");case n instanceof Element:var r=window.getComputedStyle(n),o=parseFloat(r.borderLeftWidth),i=parseFloat(r.borderTopWidth),a=n.getBoundingClientRect();return{left:t.left+window.scrollX-a.left-o,top:t.top+window.scrollY-a.top-i};default:throw new Error("invalid target element given")}default:throw new Error("invalid coordinate system given")}},fromLocalTo:function(e,t,n){switch(!0){case null==t:throw new Error('no "Position" given');case"number"!=typeof t.left&&!(t.left instanceof Number):case"number"!=typeof t.top&&!(t.top instanceof Number):throw new Error('invalid "Position" given')}var r,o,i;switch(!0){case null==n:throw new Error("no source element given");case n instanceof Element:var a=window.getComputedStyle(n),l=parseFloat(a.borderLeftWidth),s=parseFloat(a.borderTopWidth);o=(r=n.getBoundingClientRect()).left+l,i=r.top+s;break;default:throw new Error("invalid source element given")}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left+o,top:t.top+i};case"document":return{left:t.left+o+window.scrollX,top:t.top+i+window.scrollY};case"local":return{left:t.left,top:t.top};default:throw new Error("invalid coordinate system given")}}};function Me(e){var t,n,r,o,i,a,l,s,c,u,d,f,p;switch(t=(e=ye("drag options",e)||{}).Extras,!0){case null==e.relativeTo:n="parent";break;case"parent"===e.relativeTo:case"body"===e.relativeTo:case te(e.relativeTo):case e.relativeTo instanceof HTMLElement:case e.relativeTo instanceof SVGElement:n=e.relativeTo;break;default:J("InvalidArgument: invalid position reference given")}switch(r=me('"onlyFrom" CSS selector',e.onlyFrom),o=me('"neverFrom" CSS selector',e.neverFrom),!0){case null==e.Dummy:i=void 0;break;case"standard"===e.Dummy:case"none"===e.Dummy:case te(e.Dummy):case e.Dummy instanceof HTMLElement:case e.Dummy instanceof SVGElement:case ne(e.Dummy):i=e.Dummy;break;default:J("InvalidArgument: invalid drag dummy specification given")}if(a=ce("dummy x offset",e.DummyOffsetX),l=ce("dummy y offset",e.DummyOffsetY),null==(s=ce("min. x position",e.minX))&&(s=-1/0),null==(c=ce("min. y position",e.minY))&&(c=-1/0),null==(u=ce("max. x position",e.maxX))&&(u=1/0),null==(d=ce("max. y position",e.maxY))&&(d=1/0),oe(p=e.onDragStart)&&G(p.x)&&G(p.y)){var m=e.onDragStart,g=m.x,h=m.y;f=function(){return{x:g,y:h}}}else f=ge('"onDragStart" handler',e.onDragStart);return{Extras:t,relativeTo:n,onlyFrom:r,neverFrom:o,Dummy:i,DummyOffsetX:a,DummyOffsetY:l,minX:s,minY:c,maxX:u,maxY:d,onDragStart:f,onDragMove:ge('"onDragMove" handler',e.onDragMove),onDragEnd:ge('"onDragEnd" handler',e.onDragEnd),onDragCancel:undefined}}function Pe(e,t,n){if(null!=t.onlyFrom||null!=t.neverFrom){var r,o=n.clientX,i=n.clientY,a=document.elementFromPoint(o,i);if(a=Fe(a,o,i),null!=t.onlyFrom)if(e!==(r=a.closest(t.onlyFrom))&&!e.contains(r))return!0;if(null!=t.neverFrom)if(e===(r=a.closest(t.neverFrom))||e.contains(r))return!0}return!1}function Fe(e,t,n){for(var r=e.children,o=0,i=r.length;o<i;o++){var a=r[o],l=Re.fromLocalTo("viewport",{left:0,top:0},a);if(!(t<l.left||n<l.top)&&!(t>l.left+a.offsetWidth-1||n>l.top+a.offsetHeight-1))return Fe(a,t,n)}return e}var _e=["copy","move","link"];function He(e){return{Operations:ze("list of allowed operations",(e=ye("drop options",e)||{}).Operations,"copy"),DataToOffer:Object.assign({},ye("data to be offered",e.DataToOffer)),onDropZoneEnter:ge('"onDropZoneEnter" handler',e.onDropZoneEnter),onDropZoneHover:ge('"onDropZoneHover" handler',e.onDropZoneHover),onDropZoneLeave:ge('"onDropZoneLeave" handler',e.onDropZoneLeave),onDropped:ge('"onDropped" handler',e.onDropped)}}function Ce(e,t){var n,r,o,i,a,l,s,c,u,d,f,p;return n=!1,r=Me(t),o=He(t),e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(t){var m=Object.assign({},r,o);if(Pe(e,m,t))return t.stopPropagation(),t.preventDefault(),!1;i=function(e,t){var n;switch(!0){case"parent"===t.relativeTo:n=e.parentElement;break;case"body"===t.relativeTo:n=document.body;break;case t.relativeTo instanceof HTMLElement:case t.relativeTo instanceof SVGElement:(n=t.relativeTo)==document.body||document.body.contains(n)||J('InvalidArgument: the HTML element given as "relativeTo" option is not part of this HTML document');break;default:n=e.closest(t.relativeTo)}return null==n?document.body:n}(e,m);var g,h=Re.fromDocumentTo("local",{left:t.pageX,top:t.pageY},i);if(a=l=0,u={x:0,y:0},null==m.onDragStart)u={x:0,y:0};else try{var v=m.onDragStart(m.Extras);if(oe(v)){var y=ce("x start position",v.x),b=ce("y start position",v.y);a=y-h.left,l=b-h.top,y=$e(y,m.minX,m.maxX),b=$e(b,m.minY,m.maxY),u={x:y,y:b}}}catch(e){console.error('"onDragStart" handler failed',e)}if(d=u,f=void 0,p=void 0,s=!1,null==m.Dummy&&(m.Dummy="standard"),null!=(c=function(e,t){switch(!0){case"standard"===t.Dummy:return;case"none"===t.Dummy:var n=document.createElement("div");return n.setAttribute("style","display:block; position:absolute; width:1px; height:1px; background:transparent; border:none; margin:0px; padding:0px; cursor:auto"),document.body.appendChild(n),n;case te(t.Dummy):var r=document.createElement("div");return r.style.display="block",r.style.position="absolute",r.style.left=document.body.scrollWidth+100+"px",document.body.appendChild(r),r.innerHTML=t.Dummy,r.children[0];case t.Dummy instanceof HTMLElement:case t.Dummy instanceof SVGElement:return t.Dummy;case ne(t.Dummy):var o=void 0;try{o=t.Dummy(t.Extras,e)}catch(e){console.error("RuntimeError: creating draggable dummy failed",e)}if(null!=o){if(o instanceof HTMLElement||o instanceof SVGElement)return o;console.error("InvalidArgument: the newly created draggable dummy is neither an HTML nor an SVG element")}}}(e,m))&&null!=t.dataTransfer){var x=m.DummyOffsetX,w=m.DummyOffsetY;if(null==x||null==w){var D=Re.fromDocumentTo("local",{left:t.pageX,top:t.pageY},e);null==x&&(x=D.left),null==w&&(w=D.top)}switch(!0){case"none"===m.Dummy:t.dataTransfer.setDragImage(c,0,0),setTimeout((function(){document.body.removeChild(c)}),0);break;case U(m.Dummy):t.dataTransfer.setDragImage(c,x,w),setTimeout((function(){document.body.removeChild(c.parentElement)}),0);break;default:t.dataTransfer.setDragImage(c,x,w)}}if(null!=t.dataTransfer){var $=["none","copy","link","copyLink","move","copyMove","linkMove","all"][2*(2*((g=m.Operations).indexOf("move")<0?0:1)+(g.indexOf("link")<0?0:1))+(g.indexOf("copy")<0?0:1)];if(t.dataTransfer.effectAllowed=$,De(m.DataToOffer))for(var T in m.DataToOffer)m.DataToOffer.hasOwnProperty(T)&&t.dataTransfer.setData(T,m.DataToOffer[T])}Te=m.Extras,Ee=void 0,Le=void 0,Oe=!1,ke=void 0,Se=void 0,Ie=void 0,n=!0,setTimeout((function(){return e.classList.add("dragged")}),0),t.stopPropagation()})),e.addEventListener("drag",(function(t){if(!n)return!1;var c=Object.assign({},r,o);if(0!==t.screenX||0!==t.screenY||s){s=!1;var u=Re.fromDocumentTo("local",{left:t.pageX,top:t.pageY},i),m=u.left+a,g=u.top+l;m=$e(m,c.minX,c.maxX),g=$e(g,c.minY,c.maxY);var h=m-d.x,v=g-d.y;d={x:m,y:g},Xe("onDragMove",c,m,g,h,v,c.Extras)}else s=!0;Ae===f?null!=Ae&&Xe("onDropZoneHover",c,Le.x,Le.y,Ee,c.Extras):(null==Ae?(e.classList.remove("droppable"),Xe("onDropZoneLeave",c,p,c.Extras)):(e.classList.add("droppable"),Xe("onDropZoneEnter",c,Le.x,Le.y,p,c.Extras)),f=Ae,p=Ee),t.stopPropagation()})),e.addEventListener("dragend",(function(t){if(!n)return!1;var i=Object.assign({},r,o);if(Oe&&(Xe("onDropped",i,Le.x,Le.y,ke,Se,Ie,Ee,i.Extras),Ee=void 0,Le=void 0,Oe=!1,ke=void 0,Se=void 0,Ie=void 0),null!=i.onDragEnd){var a=$e(d.x,i.minX,i.maxX),l=$e(d.y,i.minY,i.maxY);Xe("onDragEnd",i,a,l,a-d.x,l-d.y,i.Extras)}Te=void 0,n=!1,e.classList.remove("dragged","droppable"),t.stopPropagation()})),{update:function(e){!function(e){e=Me(e),r.Dummy=e.Dummy||r.Dummy,r.minX=e.minX,r.minY=e.minY,r.maxX=e.maxX,r.maxY=e.maxY,r.onDragStart=e.onDragStart||r.onDragStart}(e),function(e){e=He(e),o.Operations=e.Operations,o.DataToOffer=e.DataToOffer}(e)}}}function je(e){var t,n;for(var r in t=(e=ye("drop zone options",e)||{}).Extras,ve("data types to be accepted",e.TypesToAccept),n=Object.create(null),e.TypesToAccept)e.TypesToAccept.hasOwnProperty(r)&&(n[r]=ze("list of accepted operations for type "+we(r),e.TypesToAccept[r]));return{Extras:t,TypesToAccept:n,HoldDelay:de("min. time to hold",e.HoldDelay,0),onDroppableEnter:ge('"onDroppableEnter" handler',e.onDroppableEnter),onDroppableMove:ge('"onDroppableMove" handler',e.onDroppableMove),onDroppableLeave:ge('"onDroppableLeave" handler',e.onDroppableLeave),onDroppableHold:ge('"onDroppableHold" handler',e.onDroppableHold),onDroppableRelease:ge('"onDroppableRelease" handler',e.onDroppableRelease),onDrop:ge('"onDrop" handler',e.onDrop)}}function Ve(e,t){var n;return n=je(t),e.setAttribute("draggable","true"),e.addEventListener("dragenter",(function(t){if(null!=t.dataTransfer&&"none"!==t.dataTransfer.effectAllowed){var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&""!==i[e]}));if(0!==a.length){var l=Ne(Re.fromDocumentTo("local",{left:t.pageX,top:t.pageY},e));!1!==Ye("onDroppableEnter",r,l.x,l.y,o,a,Te,r.Extras)&&(Ee=r.Extras,Ae=e,Le=l,e.classList.add("hovered"),t.preventDefault(),t.stopPropagation())}}})),e.addEventListener("dragover",(function(t){if(null==t.dataTransfer||"none"===t.dataTransfer.effectAllowed||null!=Ae&&Ae!==e)e.classList.remove("hovered");else{var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&""!==i[e]}));if(0===a.length)return Ae===e&&(Ee=void 0,Ae=void 0,Le=void 0),void e.classList.remove("hovered");if(Le=Ne(Re.fromDocumentTo("local",{left:t.pageX,top:t.pageY},e)),!1!==Ye("onDroppableMove",r,Le.x,Le.y,o,a,Te,r.Extras))return Ee=r.Extras,Ae=e,e.classList.add("hovered"),t.preventDefault(),!1;Ee=void 0,Ae=void 0,Le=void 0,e.classList.remove("hovered")}})),e.addEventListener("dragleave",(function(t){e.classList.remove("hovered"),Ae===e&&(null==Se&&(Ee=void 0,Ae=void 0,Oe=!1,Le=void 0,Se=void 0,Ie=void 0,Xe("onDroppableLeave",n,Te,n.Extras)),t.preventDefault(),t.stopPropagation())})),e.addEventListener("drop",(function(t){if(e.classList.remove("hovered"),null!=t.dataTransfer&&"none"!==t.dataTransfer.effectAllowed&&Ae===e){t.stopPropagation();var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&(null==o||i[e].indexOf(o)>=0)}));if(0===a.length)return Ee=void 0,Le=void 0,Oe=!1,ke=void 0,Se=void 0,Ie=void 0,void Xe("onDroppableLeave",r,Te,r.Extras);Le=Ne(Re.fromDocumentTo("local",{left:t.pageX,top:t.pageY},e));var l={};a.forEach((function(e){return l[e]=t.dataTransfer.getData(e)}));var s=Ye("onDrop",r,Le.x,Le.y,o,l,Te,r.Extras);switch(!0){case null==s:Oe=!0,ke=o,Se=void 0,Ie=void 0;break;case ae(s,a):Oe=!0,ke=o,Se=s,Ie=l[s];break;default:Oe=!1,Ee=void 0,Le=void 0,ke=void 0,Se=void 0,Ie=void 0}Ae=void 0}})),{update:function(e){null!=(e=je(e)).Extras&&(n.Extras=e.Extras),De(e.TypesToAccept)&&(n.TypesToAccept=e.TypesToAccept),null!=e.HoldDelay&&(n.HoldDelay=e.HoldDelay)}}}function Ne(e){return{x:e.left,y:e.top}}function ze(e,t,n){void 0===n&&(n="copy move link");var r=pe(e,t)||n;switch(r.trim()){case"all":return"copy move link";case"none":return""}var o=r.trim().replace(/\s+/g," ").split(" ");return function(e,t,n,r,o,i){null==t||be(e,t,n,r,o,i)}(e,o,(function(e){return ae(e,_e)})),o.reduce((function(e,t){return e.indexOf(t)<0?e+t+" ":e})," ")}function Xe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(null!=t[e])try{return t[e].apply(null,n)}catch(t){console.error(we(e)+" handler failed",t)}}var Ye=Xe,Ze={};function qe(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function Be(){if(qe()){var e=window.innerWidth,t=window.innerHeight,n=Math.min(e,t),r=Math.max(e,t);return n<=480&&r<=896}return!1}function Ke(e){var t=window.matchMedia||window.webkitMatchmedia||window.mozMatchmedia||window.oMatchmedia;return null!=t&&t(e).matches}function We(){return"interactive"===document.readyState||"complete"===document.readyState}function Je(){return null==Ze.AppRunsOnLegacyTouchDevice&&(Ze.AppRunsOnLegacyTouchDevice=!Ke("(pointer:fine)")&&!Ke("(pointer:coarse)")&&!Ke("-moz-touch-enabled")&&("ontouchstart"in Window||(navigator.maxTouchPoints||0)>0||/touch|android|iphone|ipod|ipad/i.test(navigator.userAgent))),Ze.AppRunsOnLegacyTouchDevice}function Ge(e,t){return"function"==typeof e.item?e.item(t):e[t]}function Qe(e,t){for(var n=0,r=e.length;n<r;n++)if(t.test(Ge(e,n)))return!0;return!1}function Ue(){return null==Ze.DevicePointingAccuracy&&(et(),We()||Ze.waitingForLoaded||(Ze.waitingForLoaded=!0,window.addEventListener("DOMContentLoaded",et))),Ze.DevicePointingAccuracy}function et(){var e="fine";switch(!0){case Ke("(pointer:none)"):e="none";break;case Ke("(pointer:coarse)"):case Ke("-moz-touch-enabled"):case Je():e="coarse"}if(Ze.DevicePointingAccuracy=e,We()){var t=document.body.classList;if("none"===e!==t.contains("noPointer")||"fine"===e!==t.contains("finePointer")||"coarse"===e!==t.contains("coarsePointer"))switch(document.body.classList.remove("noPointer","finePointer","coarsePointer"),e){case"none":document.body.classList.add("noPointer");break;case"fine":document.body.classList.add("finePointer");break;case"coarse":document.body.classList.add("coarsePointer")}}}function tt(e,t){if("function"!=typeof e)throw new Error("handler function expected");null==Ze.EventHandlerRegistry&&(Ze.EventHandlerRegistry=[]);for(var n=Ze.EventHandlerRegistry,r=0,o=n.length;r<o;r++)if(n[r].Handler===e)return void(n[r].onceOnly=t);n.push({Handler:e,onceOnly:t}),1===n.length&&(Ze.AccuracyPoller=setInterval((function(){var e=Ue();et(),Ue()!==e&&function(){null==Ze.EventHandlerRegistry&&(Ze.EventHandlerRegistry=[]);for(var e=Ze.EventHandlerRegistry,t=0,n=e.length;t<n;t++){var r=e[t],o=r.Handler,i=r.onceOnly;try{o(Ue())}catch(e){console.warn("PointingAccuracy observation function failed with",e)}i&&nt(o)}}()}),500))}function nt(e){null==Ze.EventHandlerRegistry&&(Ze.EventHandlerRegistry=[]);for(var t=Ze.EventHandlerRegistry,n=0,r=t.length;n<r;n++)if(t[n].Handler===e){t.splice(n,1);break}0===t.length&&(clearInterval(Ze.AccuracyPoller),Ze.AccuracyPoller=void 0)}var rt={get isMobile(){return qe()},get isPhone(){return Be()},get isTablet(){return qe()&&!Be()},get isLegacyTouchDevice(){return Je()},rewriteMediaQueriesOnLegacyTouchDevices:function e(){if(!Ze.MediaQueriesHaveBeenRewritten&&Je())if(We()){for(var t=document.styleSheets,n=0,r=t.length;n<r;n++)for(var o=t[n].cssRules||t[n].rules,i=0,a=o.length;i<a;i++){var l=o[i];if(l.type===CSSRule.MEDIA_RULE&&Qe(l.media,/handheld/i)){var s=l.media;s.mediaText=s.mediaText.replace("handheld","screen")}}var c=document.getElementsByTagName("link");for(n=0,r=c.length;n<r;n++){var u=c[n];/handheld/i.test(u.media)&&(u.media=u.media.replace("handheld","screen"))}Ze.MediaQueriesHaveBeenRewritten=!0}else window.addEventListener("DOMContentLoaded",e)},get PointingAccuracy(){return Ue()},onPointingAccuracyChanged:function(e){tt(e,!1)},oncePointingAccuracyChanged:function(e){tt(e,!0)},offPointingAccuracyChanged:function(e){nt(e)},get observesPointingAccuracy(){return null!=Ze.AccuracyPoller}},ot=0;function it(e){var t=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(e);if(null==t)throw new Error(e);var n=new Error(t[2]);throw n.name=t[1],n}function at(e){return"boolean"==typeof e||e instanceof Boolean}function lt(e){return("number"==typeof e||e instanceof Number)&&(e=e.valueOf(),isFinite(e)&&Math.round(e)===e&&e>=0)}function st(e){return"string"==typeof e||e instanceof String}var ct=/^\s*$/;function ut(e){return("string"==typeof e||e instanceof String)&&!ct.test(e.valueOf())}function dt(e){return"function"==typeof e}function ft(e){return null!=e&&"object"==typeof e}function pt(e){return null!=e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}var mt=Array.isArray;var gt=!0;function ht(e,t,n){var r=function(r,o){return function(e,t,n,r,o){if(null==t){if(r)return t;it("MissingArgument: no "+At(e)+" given")}else if(n(t))switch(!0){case t instanceof Boolean:case t instanceof Number:case t instanceof String:return t.valueOf();default:return t}else it("InvalidArgument: the given "+At(e)+" is no valid "+At(o))}(r,o,e,t,n)},o=e.name;return null!=o&&/^ValueIs/.test(o)?function(e,t){null==e&&it("MissingArgument: no function given");"function"!=typeof e&&it("InvalidArgument: the given 1st Argument is not a JavaScript function");null==t&&it("MissingArgument: no desired name given");"string"==typeof t||t instanceof String||it("InvalidArgument: the given desired name is not a string");if(e.name===t)return e;try{if(Object.defineProperty(e,"name",{value:t}),e.name===t)return e}catch(e){}return new Function("originalFunction","return function "+t+" () {return originalFunction.apply(this,Array.prototype.slice.apply(arguments))}")(e)}(r,o.replace(/^ValueIs/,t?"allow":"expect")):r}var vt=ht(at,gt,"boolean value"),yt=ht(lt,gt,"ordinal number"),bt=ht(st,gt,"literal string"),xt=ht(ut,gt,"non-empty literal string"),wt=ht(dt,gt,"JavaScript function"),Dt=ht(pt,gt,'"plain" JavaScript object');function $t(e,t,n,r,o,i){return null==t?t:Et(e,t,n,r,o,i)}var Tt=$t;var Et=function(e,t,n,r,o,i){if(null==t&&it("MissingArgument: no "+At(e)+" given"),function(e,t,n,r){if(mt(e))try{for(var o=0,i=e.length;o<i;o++)if(0==t(e[o]))return!1;return!(null!=n&&e.length<n||null!=r&&e.length>r)}catch(e){}return!1}(t,n,o,i))return t;it("InvalidArgument: the given "+At(e)+" is "+(null==r?"either not a list or contains invalid elements":"no "+At(r)))};function At(e){return e.replace(/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?/g,(function(e){return"\\"===e?"\\\\":e})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}function Ot(e,t){if(e===t)return!1;var n=typeof e;if(n!==typeof t)return!0;switch(n){case"undefined":case"boolean":case"string":case"function":return!0;case"number":return isNaN(e)!==isNaN(t)||Math.abs(e-t)>Number.EPSILON;case"object":return null==e||(null==t||(Array.isArray(e)?function(e,t){if(!Array.isArray(t))return!0;if(e.length!==t.length)return!0;for(var n=0,r=e.length;n<r;n++)if(Ot(e[n],t[n]))return!0;return!1}(e,t):function(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!0;for(var n in e)if(!(n in t))return!0;for(var n in t){if(!(n in e))return!0;if(Ot(e[n],t[n]))return!0}return!1}(e,t)));default:return!0}return!0}function Lt(e,t,n){const r=e.slice();return r[64]=t[n],r[66]=n,r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".defaultListView.svelte-17oef9f{display:inline-flex;flex-flow:column nowrap;position:relative;justify-content:flex-start;align-items:stretch;margin:0px;padding:0px;list-style:none}.withoutTextSelection.svelte-17oef9f{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.defaultListView.svelte-17oef9f>.ListItemView{display:block;position:relative;flex:0 0 auto;height:30px;line-height:30px;border:solid 1px transparent;margin:0px 2px 0px 2px;padding:0px 4px 0px 4px;list-style:none}.defaultListView.svelte-17oef9f>.ListItemView > *{pointer-events:none}.defaultListView.svelte-17oef9f>.ListItemView:hover:not(.dragged){border:solid 1px }.defaultListView.svelte-17oef9f>.ListItemView.selected:not(.dragged){background:dodgerblue }.defaultListView.svelte-17oef9f>.ListItemView.dragged{opacity:0.3 }.defaultListView.svelte-17oef9f>.ListItemView.hovered:not(.dragged){border-top:solid 10px transparent }.defaultListView.svelte-17oef9f>.AttachmentRegion{display:block;position:relative;flex:1 1 auto;min-height:20px;background:transparent;border:solid 1px transparent;margin:0px 2px 2px 2px;padding:0px;list-style:none}.defaultListView.svelte-17oef9f>.AttachmentRegion.hovered{border:solid 1px }.defaultListView.svelte-17oef9f>.Placeholder{display:flex;position:absolute;left:0px;top:0px;right:0px;height:100%;flex-flow:column nowrap;justify-content:center;align-items:center}",{insertAt:"top"});const kt=e=>({Item:1&e[0],Index:1&e[0]}),St=e=>({Item:e[64],Index:e[66]});function It(e,t,n){const r=e.slice();return r[64]=t[n],r[66]=n,r}const Rt=e=>({Item:1&e[0],Index:1&e[0]}),Mt=e=>({Item:e[64],Index:e[66]});function Pt(t){let n,r=(t[5]||"(empty list)")+"";return{c(){n=y("li"),A(n,"Placeholder",!0)},m(e,t){h(e,n,t),n.innerHTML=r},p(e,t){32&t[0]&&r!==(r=(e[5]||"(empty list)")+"")&&(n.innerHTML=r)},i:e,o:e,d(e){e&&v(n)}}}function Ft(t){let n,r,o,a,l=(t[5]||"(empty list)")+"";return{c(){n=y("li"),A(n,"Placeholder",!0)},m(e,i){h(e,n,i),n.innerHTML=l,o||(a=d(r=Ve.call(null,n,{Extras:{List:t[0],Item:void 0},TypesToAccept:t[10],onDroppableEnter:t[20],onDroppableMove:t[21],onDrop:t[23]})),o=!0)},p(e,t){32&t[0]&&l!==(l=(e[5]||"(empty list)")+"")&&(n.innerHTML=l),r&&i(r.update)&&1025&t[0]&&r.update.call(null,{Extras:{List:e[0],Item:void 0},TypesToAccept:e[10],onDroppableEnter:e[20],onDroppableMove:e[21],onDrop:e[23]})},i:e,o:e,d(e){e&&v(n),o=!1,a()}}}function _t(e){let t,n,r,o;const i=[Ct,Ht],a=[];function l(e,t){return e[1]||e[14]||e[13]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=w()},m(e,n){a[t].m(e,n),h(e,r,n),o=!0},p(e,o){let s=t;t=l(e),t===s?a[t].p(e,o):(z(),Z(a[s],1,1,(()=>{a[s]=null})),X(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),Y(n,1),n.m(r.parentNode,r))},i(e){o||(Y(n),o=!0)},o(e){Z(n),o=!1},d(e){a[t].d(e),e&&v(r)}}}function Ht(e){let t,n,r=[],o=new Map,i=e[0];const a=e=>e[11](e[64]);for(let t=0;t<i.length;t+=1){let n=Lt(e,i,t),l=a(n);o.set(l,r[t]=jt(l,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=w()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);h(e,t,o),n=!0},p(e,n){34881&n[0]|32768&n[1]&&(i=e[0],z(),r=B(r,n,a,1,e,i,o,t.parentNode,q,jt,t,Lt),X())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Y(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)Z(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&v(t)}}}function Ct(e){let t,n,r,o=[],i=new Map,a=e[0];const l=e=>e[11](e[64]);for(let t=0;t<a.length;t+=1){let n=It(e,a,t),r=l(n);i.set(r,o[t]=Vt(r,n))}let s=(e[1]||e[14])&&Nt(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=x(),s&&s.c(),n=w()},m(e,i){for(let t=0;t<o.length;t+=1)o[t].m(e,i);h(e,t,i),s&&s.m(e,i),h(e,n,i),r=!0},p(e,r){16752577&r[0]|32768&r[1]&&(a=e[0],z(),o=B(o,r,l,1,e,a,i,t.parentNode,q,Vt,t,It),X()),e[1]||e[14]?s?s.p(e,r):(s=Nt(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i(e){if(!r){for(let e=0;e<a.length;e+=1)Y(o[e]);r=!0}},o(e){for(let e=0;e<o.length;e+=1)Z(o[e]);r=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&v(t),s&&s.d(e),e&&v(n)}}}function jt(e,t){let n,r,o,i,a;const s=t[47].default,u=l(s,t,t[46],St),d=u||function(e){let t,n=e[11](e[64])+"";return{c(){t=b(n)},m(e,n){h(e,t,n)},p(e,r){2049&r[0]&&n!==(n=e[11](e[64])+"")&&E(t,n)},d(e){e&&v(t)}}}(t);function f(...e){return t[49](t[64],...e)}return{key:e,first:null,c(){n=y("li"),d&&d.c(),r=x(),A(n,"ListItemView",!0),A(n,"selected",t[6](t[64])),this.first=n},m(e,t){h(e,n,t),d&&d.m(n,null),g(n,r),o=!0,i||(a=D(n,"click",f),i=!0)},p(e,r){t=e,u?u.p&&(!o||1&r[0]|32768&r[1])&&c(u,s,t,t[46],o?r:[-1,-1,-1],kt,St):d&&d.p&&(!o||2049&r[0])&&d.p(t,o?r:[-1,-1,-1]),65&r[0]&&A(n,"selected",t[6](t[64]))},i(e){o||(Y(d,e),o=!0)},o(e){Z(d,e),o=!1},d(e){e&&v(n),d&&d.d(e),i=!1,a()}}}function Vt(e,t){let n,r,a,s,u,f;const p=t[47].default,m=l(p,t,t[46],Mt),g=m||function(e){let t,n=e[11](e[64])+"";return{c(){t=b(n)},m(e,n){h(e,t,n)},p(e,r){2049&r[0]&&n!==(n=e[11](e[64])+"")&&E(t,n)},d(e){e&&v(t)}}}(t);function x(...e){return t[48](t[64],...e)}return{key:e,first:null,c(){n=y("li"),g&&g.c(),A(n,"ListItemView",!0),A(n,"dragged",t[12].indexOf(t[64])>=0),A(n,"selected",t[6](t[64])),this.first=n},m(e,o){h(e,n,o),g&&g.m(n,null),s=!0,u||(f=[D(n,"click",x),d(r=Ce.call(null,n,{onlyFrom:t[7],neverFrom:t[8],Dummy:t[16],Extras:{List:t[0],Item:t[64]},DataToOffer:t[9],onDragStart:t[17],onDragEnd:t[18],onDropped:t[19]})),d(a=Ve.call(null,n,{Extras:{List:t[0],Item:t[64]},TypesToAccept:t[10],onDrop:t[23],onDroppableEnter:t[20],onDroppableMove:t[21],onDroppableLeave:t[22]}))],u=!0)},p(e,o){t=e,m?m.p&&(!s||1&o[0]|32768&o[1])&&c(m,p,t,t[46],s?o:[-1,-1,-1],Rt,Mt):g&&g.p&&(!s||2049&o[0])&&g.p(t,s?o:[-1,-1,-1]),r&&i(r.update)&&897&o[0]&&r.update.call(null,{onlyFrom:t[7],neverFrom:t[8],Dummy:t[16],Extras:{List:t[0],Item:t[64]},DataToOffer:t[9],onDragStart:t[17],onDragEnd:t[18],onDropped:t[19]}),a&&i(a.update)&&1025&o[0]&&a.update.call(null,{Extras:{List:t[0],Item:t[64]},TypesToAccept:t[10],onDrop:t[23],onDroppableEnter:t[20],onDroppableMove:t[21],onDroppableLeave:t[22]}),4097&o[0]&&A(n,"dragged",t[12].indexOf(t[64])>=0),65&o[0]&&A(n,"selected",t[6](t[64]))},i(e){s||(Y(g,e),s=!0)},o(e){Z(g,e),s=!1},d(e){e&&v(n),g&&g.d(e),u=!1,o(f)}}}function Nt(e){let t,n,r,o,a=(e[4]||"")+"";return{c(){t=y("li"),A(t,"AttachmentRegion",!0)},m(i,l){h(i,t,l),t.innerHTML=a,r||(o=d(n=Ve.call(null,t,{Extras:{List:e[0],Item:void 0},TypesToAccept:e[10],onDroppableEnter:e[20],onDroppableMove:e[21],onDrop:e[23]})),r=!0)},p(e,r){16&r[0]&&a!==(a=(e[4]||"")+"")&&(t.innerHTML=a),n&&i(n.update)&&1025&r[0]&&n.update.call(null,{Extras:{List:e[0],Item:void 0},TypesToAccept:e[10],onDroppableEnter:e[20],onDroppableMove:e[21],onDrop:e[23]})},d(e){e&&v(t),r=!1,o()}}}function zt(e){let n,r,o,i;const a=[_t,Ft,Pt],l=[];function s(e,t){return e[0].length>0?0:e[14]?1:2}r=s(e),o=l[r]=a[r](e);let c=[{class:e[2]},{style:e[3]},e[24]],u={};for(let e=0;e<c.length;e+=1)u=t(u,c[e]);return{c(){n=y("ul"),o.c(),T(n,u),A(n,"defaultListView",null==e[2]),A(n,"withoutTextSelection",!0),A(n,"svelte-17oef9f",!0)},m(e,t){h(e,n,t),l[r].m(n,null),i=!0},p(e,t){let d=r;r=s(e),r===d?l[r].p(e,t):(z(),Z(l[d],1,1,(()=>{l[d]=null})),X(),o=l[r],o?o.p(e,t):(o=l[r]=a[r](e),o.c()),Y(o,1),o.m(n,null)),T(n,u=function(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const a=e[i],l=t[i];if(l){for(const e in a)e in l||(r[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[i]=l}else for(const e in a)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(c,[(!i||4&t[0])&&{class:e[2]},(!i||8&t[0])&&{style:e[3]},16777216&t[0]&&e[24]])),A(n,"defaultListView",null==e[2]),A(n,"withoutTextSelection",!0),A(n,"svelte-17oef9f",!0)},i(e){i||(Y(o),i=!0)},o(e){Z(o),i=!1},d(e){e&&v(n),l[r].d()}}}function Xt(e,n,r){const o=["class","style","List","Key","SelectionLimit","InsertionRegion","AttachmentRegion","Placeholder","select","selectOnly","selectAll","selectRange","deselect","deselectAll","toggleSelectionOf","selectedItems","SelectionCount","isSelected","sortable","onlyFrom","neverFrom","onSortRequest","onSort","Operations","DataToOffer","TypesToAccept","onOuterDropRequest","onDroppedOutside","onDropFromOutside"];let i=u(n,o),{$$slots:a={},$$scope:l}=n,s="uid-"+ ++ot;const c=L();let d,f,{class:p}=n,{style:m}=n,{List:g}=n,{Key:h}=n,{SelectionLimit:v}=n,{InsertionRegion:y}=n,{AttachmentRegion:b}=n,{Placeholder:x}=n;let w,D,$=new WeakMap;function T(...e){let t=R();e.forEach((e=>{d(e)in f?$.has(e)||(null==v||t<v)&&($.set(e,!0),t++,c("selected-item",e)):it('InvalidArgument: one or multiple of the given items to select are not part of the given "List"')})),w=1===e.length?e[0]:void 0,D=void 0,re()}function E(...e){Ot(I(),e)&&(k(),T(...e))}function A(e){if(null==w)return void T(e);if(w===e)return;null!=D&&function(e){let t=g.indexOf(w),n=g.indexOf(e),r=Math.min(t,n),o=Math.max(t,n);for(let e=r;e<=o;e++)$.has(g[e])&&($.delete(g[e]),c("deselected-item",g[e]))}(D);let t=g.indexOf(w),n=g.indexOf(e),r=Math.min(t,n),o=Math.max(t,n),i=R();for(let e=r;e<=o;e++)$.has(g[e])||(null==v||i<v)&&($.set(g[e],!0),c("selected-item",g[e]));D=e,re()}function O(...e){e.forEach((e=>{d(e)in f?$.has(e)&&($.delete(e),c("deselected-item",e)):it('InvalidArgument: one or multiple of the given items to deselect are not part of the given "List"')})),w=D=void 0,re()}function k(){g.forEach((e=>{$.has(e)&&($.delete(e),c("deselected-item",e))})),w=D=void 0,re()}function S(...e){w=void 0;let t=[];e.forEach((e=>{d(e)in f?$.has(e)?($.delete(e),c("deselected-item",e)):t.push(e):it('InvalidArgument: one or multiple of the given items to select or deselect are not part of the given "List"')}));let n=R();if(null!=v){let e=v-n;e<t.length&&(t.length=e)}t.forEach((t=>{$.set(t,!0),c("selected-item",t),1===e.length&&(w=t,D=void 0)})),re()}function I(){return g.filter((e=>$.has(e)))}function R(){return g.reduce(((e,t)=>e+($.has(t)?1:0)),0)}function M(e){return $.has(e)}function P(e,t){switch(!0){case 0===e.buttons&&0!==e.button:case 0!==e.buttons&&1!==e.buttons:return;case"coarse"===rt.PointingAccuracy:case e.ctrlKey:case e.metaKey:S(t);break;case e.shiftKey:A(t);break;default:E(t)}e.preventDefault(),e.stopPropagation()}let F,_,H=!1,C=[],{sortable:j=!1}=n,{onlyFrom:V}=n,{neverFrom:N}=n,{onSortRequest:z}=n,{onSort:X}=n,{Operations:Y}=n,{DataToOffer:Z}=n,{TypesToAccept:q}=n,{onOuterDropRequest:B}=n,{onDroppedOutside:K}=n,{onDropFromOutside:W}=n;function J(e,t,n="copy move link"){let r=bt(e,t)||n;switch(r.trim()){case"all":return"copy move link";case"none":return""}let o=r.trim().replace(/\s+/g," ").split(" ");return $t(e,o,(e=>_e.indexOf(e)>=0)),o.reduce(((e,t)=>e.indexOf(t)<0?e+t+" ":e)," ")}function G(e){for(let t in e)if(e.hasOwnProperty(t)&&t!==s)return!0;return!1}let Q=!1,U=!1;function ee(e,t,n,r,o,i){if(g===(o&&o.List)&&g.indexOf(o.Item)>=0&&o.ItemList.indexOf(i.Item)>=0)return re(),!1;let a=!0;if(g===(o&&o.List))if(j){if(null!=z)try{a=z(e,t,o,i)}catch(e){a=!1,console.error('RuntimeError: callback "onSortRequest" failed',e)}}else a=!1;else if(null!=B)try{a=B(e,t,n,r,o,o)}catch(e){a=!1,console.error('RuntimeError: callback "onOuterDropRequest" failed',e)}return a&&i.Item,re(),a&&"link"!==n}const te=ee;function ne(e){let t=Object.create(null);return e.forEach((e=>{let n=d(e);t[n]=e})),t}function re(){r(0,g)}return e.$$set=e=>{n=t(t({},n),function(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}(e)),r(24,i=u(n,o)),"class"in e&&r(2,p=e.class),"style"in e&&r(3,m=e.style),"List"in e&&r(0,g=e.List),"Key"in e&&r(25,h=e.Key),"SelectionLimit"in e&&r(26,v=e.SelectionLimit),"InsertionRegion"in e&&r(27,y=e.InsertionRegion),"AttachmentRegion"in e&&r(4,b=e.AttachmentRegion),"Placeholder"in e&&r(5,x=e.Placeholder),"sortable"in e&&r(1,j=e.sortable),"onlyFrom"in e&&r(7,V=e.onlyFrom),"neverFrom"in e&&r(8,N=e.neverFrom),"onSortRequest"in e&&r(37,z=e.onSortRequest),"onSort"in e&&r(38,X=e.onSort),"Operations"in e&&r(39,Y=e.Operations),"DataToOffer"in e&&r(40,Z=e.DataToOffer),"TypesToAccept"in e&&r(41,q=e.TypesToAccept),"onOuterDropRequest"in e&&r(42,B=e.onOuterDropRequest),"onDroppedOutside"in e&&r(43,K=e.onDroppedOutside),"onDropFromOutside"in e&&r(44,W=e.onDropFromOutside),"$$scope"in e&&r(46,l=e.$$scope)},e.$$.update=()=>{if(4&e.$$.dirty[0]&&xt('"class" attribute',p),8&e.$$.dirty[0]&&xt('"style" attribute',m),1&e.$$.dirty[0]&&r(0,g=Tt('"List" attribute',g,ft)||[]),33554432&e.$$.dirty[0])switch(!0){case null==h:r(11,d=e=>String(e));break;case ut(h):r(11,d=e=>String(e[h]));break;case dt(h):r(11,d=e=>String(h(e)));break;default:it('InvalidArgument: the given "Key" attribute is neither a non-empty string nor a function returning such a string')}if(67108864&e.$$.dirty[0]&&yt("selection limit",v),134217728&e.$$.dirty[0]&&xt('"InsertionRegion" attribute',y),16&e.$$.dirty[0]&&xt('"AttachmentRegion" attribute',b),32&e.$$.dirty[0]&&xt('"Placeholder" attribute',x),33554433&e.$$.dirty[0]&&(f=Object.create(null),g.forEach((e=>{let t=d(e);t in f?f[t]===e?it('InvalidArgument: the given "List" contains the same item multiple times'):it('InvalidArgument: the given "Key" does not produce unique keys for every "List" item'):f[t]=e}))),67108865&e.$$.dirty[0]&&null!=v&&R()>v){let e=0;g.forEach((t=>{$.has(t)&&(e++,e>v&&O(t))}))}if(2&e.$$.dirty[0]&&r(1,j=vt('"sortable" attribute',j)||!1),128&e.$$.dirty[0]&&xt('"onlyFrom" CSS selector list',V),256&e.$$.dirty[0]&&xt('"neverFrom" CSS selector list',N),64&e.$$.dirty[1]&&wt('"onSortRequest" callback',z),128&e.$$.dirty[1]&&wt('"onSort" callback',X),256&e.$$.dirty[1]&&J("list of allowed operations",Y),512&e.$$.dirty[1]&&Dt('"DataToOffer" attribute',Z),1024&e.$$.dirty[1]&&Dt('"TypesToAccept" attribute',q),2048&e.$$.dirty[1]&&wt('"onOuterDropRequest" callback',B),4096&e.$$.dirty[1]&&wt('"onDroppedOutside" callback',K),8192&e.$$.dirty[1]&&wt('"onDropFromOutside" callback',W),2&e.$$.dirty[0]|16896&e.$$.dirty[1]&&(H||(r(9,F=Object.assign({},Z)),j&&r(9,F[s]="",F))),2&e.$$.dirty[0]|17408&e.$$.dirty[1]&&!H){r(10,_={});for(let e in q)q.hasOwnProperty(e)&&r(10,_[e]=J("list of accepted operations for type "+(void 0===(t=void 0)&&(t='"'),t+function(e,t){return void 0===t&&(t='"'),e.replace("'"===t?/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|'/g:/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|"/g,(function(e){switch(e){case"'":return"\\'";case'"':return'\\"';case"\\":return"\\\\";default:return e}})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}(e,t)+t),q[e]),_);j&&r(10,_[s]="copy move",_)}var t;1536&e.$$.dirty[0]|16384&e.$$.dirty[1]&&(H||(r(13,Q=G(F)),r(14,U=G(_))))},[g,j,p,m,b,x,M,V,N,F,_,d,C,Q,U,P,function(e,t){let n=t.cloneNode(!0);if(n.style.display="block",n.style.position="absolute",n.style.left=document.body.scrollWidth+100+"px",n.style.width=t.clientWidth+"px",n.style.height=t.clientHeight+"px",C.length>1){let e=document.createElement("div");e.setAttribute("style","display:block; position:absolute; top:-10px; right:-10px; width:20px; height:20px; background:red; color:white; border:none; border-radius:10px; margin:0px; padding:0px 4px 0px 4px; line-height:20px; text-align:center"),e.innerText="+"+(C.length-1),n.appendChild(e)}return document.body.appendChild(n),setTimeout((()=>{document.body.removeChild(n)}),0),n},function(e){return r(45,H=!0),M(e.Item)||E(e.Item),r(12,C=e.ItemList=I()),{x:0,y:0}},function(e,t,n,o,i){r(45,H=!1),delete i.ItemList,r(12,C.length=0,C)},function(e,t,n,r,o,i,a){if(!(g===(i&&i.List)))if(null==K){let e=a.ItemList,t=ne(e);for(let e=g.length-1;e>=0;e--){d(g[e])in t&&g.splice(e,1)}c("removed-items",e.slice()),re()}else{try{K(e,t,n,r,o,i,a)}catch(e){console.error('RuntimeError: callback "onDroppedOutside" failed',e)}re()}},ee,te,function(e,t){},function(e,t,n,r,o,i){if(g===(o&&o.List)&&g.indexOf(o.Item)>=0&&o.ItemList.indexOf(i.Item)>=0)return re(),"none";if(g===(o&&o.List)){if(j){let e=o.ItemList;if(null==X){let t=ne(e);for(let e=g.length-1;e>=0;e--){d(g[e])in t&&g.splice(e,1)}let n=g.indexOf(i.Item);n<0&&(n=g.length),g.splice.apply(g,[n,0].concat(e)),c("sorted-items",[e.slice(),n]),re()}else{try{X(i.Item,e.slice())}catch(e){console.error('RuntimeError: callback "onSort" failed',e)}re()}return n}return"none"}if(null==W){let e=o&&o.ItemList;if(!function(e,t,n){if(mt(e)){for(var r=0,o=e.length;r<o;r++)if(void 0===e[r])return!1;return!(null!=t&&e.length<t||null!=n&&e.length>n)}return!1}(e))return"none";let t=g.indexOf(i.Item);return t<0&&(t=g.length),g.splice.apply(g,[t,0].concat(e)),c("inserted-items",[e.slice(),t]),void re()}{let a;try{a=W(e,t,n,r,o,i)}catch(e){console.error('RuntimeError: callback "onSort" failed',e)}return re(),a}},i,h,v,y,T,E,function(){let e=R();g.forEach((t=>{$.has(t)||(null==v||e<v)&&($.set(t,!0),e++,c("selected-item",t))})),w=D=void 0,re()},A,O,k,S,I,R,z,X,Y,Z,q,B,K,W,H,l,a,(e,t)=>P(t,e),(e,t)=>P(t,e)]}return class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),W(this,e,Xt,zt,a,{class:2,style:3,List:0,Key:25,SelectionLimit:26,InsertionRegion:27,AttachmentRegion:4,Placeholder:5,select:28,selectOnly:29,selectAll:30,selectRange:31,deselect:32,deselectAll:33,toggleSelectionOf:34,selectedItems:35,SelectionCount:36,isSelected:6,sortable:1,onlyFrom:7,neverFrom:8,onSortRequest:37,onSort:38,Operations:39,DataToOffer:40,TypesToAccept:41,onOuterDropRequest:42,onDroppedOutside:43,onDropFromOutside:44},[-1,-1,-1])}get class(){return this.$$.ctx[2]}set class(e){this.$set({class:e}),C()}get style(){return this.$$.ctx[3]}set style(e){this.$set({style:e}),C()}get List(){return this.$$.ctx[0]}set List(e){this.$set({List:e}),C()}get Key(){return this.$$.ctx[25]}set Key(e){this.$set({Key:e}),C()}get SelectionLimit(){return this.$$.ctx[26]}set SelectionLimit(e){this.$set({SelectionLimit:e}),C()}get InsertionRegion(){return this.$$.ctx[27]}set InsertionRegion(e){this.$set({InsertionRegion:e}),C()}get AttachmentRegion(){return this.$$.ctx[4]}set AttachmentRegion(e){this.$set({AttachmentRegion:e}),C()}get Placeholder(){return this.$$.ctx[5]}set Placeholder(e){this.$set({Placeholder:e}),C()}get select(){return this.$$.ctx[28]}get selectOnly(){return this.$$.ctx[29]}get selectAll(){return this.$$.ctx[30]}get selectRange(){return this.$$.ctx[31]}get deselect(){return this.$$.ctx[32]}get deselectAll(){return this.$$.ctx[33]}get toggleSelectionOf(){return this.$$.ctx[34]}get selectedItems(){return this.$$.ctx[35]}get SelectionCount(){return this.$$.ctx[36]}get isSelected(){return this.$$.ctx[6]}get sortable(){return this.$$.ctx[1]}set sortable(e){this.$set({sortable:e}),C()}get onlyFrom(){return this.$$.ctx[7]}set onlyFrom(e){this.$set({onlyFrom:e}),C()}get neverFrom(){return this.$$.ctx[8]}set neverFrom(e){this.$set({neverFrom:e}),C()}get onSortRequest(){return this.$$.ctx[37]}set onSortRequest(e){this.$set({onSortRequest:e}),C()}get onSort(){return this.$$.ctx[38]}set onSort(e){this.$set({onSort:e}),C()}get Operations(){return this.$$.ctx[39]}set Operations(e){this.$set({Operations:e}),C()}get DataToOffer(){return this.$$.ctx[40]}set DataToOffer(e){this.$set({DataToOffer:e}),C()}get TypesToAccept(){return this.$$.ctx[41]}set TypesToAccept(e){this.$set({TypesToAccept:e}),C()}get onOuterDropRequest(){return this.$$.ctx[42]}set onOuterDropRequest(e){this.$set({onOuterDropRequest:e}),C()}get onDroppedOutside(){return this.$$.ctx[43]}set onDroppedOutside(e){this.$set({onDroppedOutside:e}),C()}get onDropFromOutside(){return this.$$.ctx[44]}set onDropFromOutside(e){this.$set({onDropFromOutside:e}),C()}}}));
//# sourceMappingURL=svelte-sortable-flat-list-view.bundled.js.map
