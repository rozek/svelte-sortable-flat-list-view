!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.sortableFlatListView,r=e.sortableFlatListView=t();r.noConflict=function(){return e.sortableFlatListView=n,r}}())}(this,(function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n,r){if(e){const o=s(e,t,n,r);return e[0](o)}}function s(e,n,r,o){return e[1]&&o?t(r.ctx.slice(),e[1](o(n))):r.ctx}function c(e,t,n,r,o,i,a){const l=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,i);if(l){const o=s(t,n,r,a);e.p(o,l)}}function u(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function d(t){return t&&i(t.destroy)?t.destroy:e}let f,p=!1;function m(e,t,n,r){for(;e<t;){const o=e+(t-e>>1);n(o)<=r?e=o+1:t=o}return e}function h(e,t){p?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let o=0;for(let e=0;e<t.length;e++){const i=m(1,o+1,(e=>t[n[e]].claim_order),t[e].claim_order)-1;r[e]=n[i]+1;const a=i+1;n[a]=e,o=Math.max(a,o)}const i=[],a=[];let l=t.length-1;for(let e=n[o]+1;0!=e;e=r[e-1]){for(i.push(t[e-1]);l>=e;l--)a.push(t[l]);l--}for(;l>=0;l--)a.push(t[l]);i.reverse(),a.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<a.length;t++){for(;n<i.length&&a[t].claim_order>=i[n].claim_order;)n++;const r=n<i.length?i[n]:null;e.insertBefore(a[t],r)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function g(e,t,n){p&&!n?h(e,t):(t.parentNode!==e||n&&t.nextSibling!==n)&&e.insertBefore(t,n||null)}function v(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function x(){return b(" ")}function w(){return b("")}function D(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function T(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:$(e,r,t[r])}function E(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function O(e,t,n){e.classList[n?"add":"remove"](t)}function L(e){f=e}function A(){const e=function(){if(!f)throw new Error("Function called outside component initialization");return f}();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}const k=[],S=[],I=[],P=[],R=Promise.resolve();let F=!1;function M(e){I.push(e)}let _=!1;const H=new Set;function C(){if(!_){_=!0;do{for(let e=0;e<k.length;e+=1){const t=k[e];L(t),j(t.$$)}for(L(null),k.length=0;S.length;)S.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];H.has(t)||(H.add(t),t())}I.length=0}while(k.length);for(;P.length;)P.pop()();F=!1,_=!1,H.clear()}}function j(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const N=new Set;let V;function X(){V={r:0,c:[],p:V}}function Y(){V.r||o(V.c),V=V.p}function q(e,t){e&&e.i&&(N.delete(e),e.i(t))}function z(e,t,n,r){if(e&&e.o){if(N.has(e))return;N.add(e),V.c.push((()=>{N.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function Z(e,t){z(e,1,1,(()=>{t.delete(e.key)}))}function B(e,t,n,r,o,i,a,l,s,c,u,d){let f=e.length,p=i.length,m=f;const h={};for(;m--;)h[e[m].key]=m;const g=[],v=new Map,y=new Map;for(m=p;m--;){const e=d(o,i,m),l=n(e);let s=a.get(l);s?r&&s.p(e,t):(s=c(l,e),s.c()),v.set(l,g[m]=s),l in h&&y.set(l,Math.abs(m-h[l]))}const b=new Set,x=new Set;function w(e){q(e,1),e.m(l,u),a.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],r=t.key,o=n.key;t===n?(u=t.first,f--,p--):v.has(o)?!a.has(r)||b.has(r)?w(t):x.has(o)?f--:y.get(r)>y.get(o)?(x.add(r),w(t)):(b.add(o),f--):(s(n,a),f--)}for(;f--;){const t=e[f];v.has(t.key)||s(t,a)}for(;p;)w(g[p-1]);return g}function K(e,t){-1===e.$$.dirty[0]&&(k.push(e),F||(F=!0,R.then(C)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function W(t,a,l,s,c,u,d=[-1]){const m=f;L(t);const h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(m?m.$$.context:a.context||[]),callbacks:r(),dirty:d,skip_bound:!1};let g=!1;if(h.ctx=l?l(t,a.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&c(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),g&&K(t,e)),n})):[],h.update(),g=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),a.target){if(a.hydrate){p=!0;const e=function(e){return Array.from(e.childNodes)}(a.target);h.fragment&&h.fragment.l(e),e.forEach(v)}else h.fragment&&h.fragment.c();a.intro&&q(t.$$.fragment),function(e,t,r,a){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=e.$$;l&&l.m(t,r),a||M((()=>{const t=s.map(n).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(M)}(t,a.target,a.anchor,a.customElement),p=!1,C()}L(m)}function G(e){var t=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(e);if(null==t)throw new Error(e);var n=new Error(t[2]);throw n.name=t[1],n}function J(e){return"boolean"==typeof e||e instanceof Boolean}function Q(e){return("number"==typeof e||e instanceof Number)&&isFinite(e.valueOf())}function U(e){return("number"==typeof e||e instanceof Number)&&(e=e.valueOf(),isFinite(e)&&Math.round(e)===e)}function ee(e){return("number"==typeof e||e instanceof Number)&&(e=e.valueOf(),isFinite(e)&&Math.round(e)===e&&e>=0)}function te(e){return"string"==typeof e||e instanceof String}var ne=/^\s*$/;function re(e){return("string"==typeof e||e instanceof String)&&!ne.test(e.valueOf())}function oe(e){return"function"==typeof e}function ie(e){return null!=e&&"object"==typeof e}function ae(e){return null!=e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}var le=Array.isArray;function se(e,t){return t.indexOf(e)>=0}var ce=!0;function ue(e,t,n){var r=function(r,o){return function(e,t,n,r,o){if(null==t){if(r)return t;G("MissingArgument: no "+Ae(e)+" given")}else if(n(t))switch(!0){case t instanceof Boolean:case t instanceof Number:case t instanceof String:return t.valueOf();default:return t}else G("InvalidArgument: the given "+Ae(e)+" is no valid "+Ae(o))}(r,o,e,t,n)},o=e.name;return null!=o&&/^ValueIs/.test(o)?function(e,t){null==e&&G("MissingArgument: no function given");"function"!=typeof e&&G("InvalidArgument: the given 1st Argument is not a JavaScript function");null==t&&G("MissingArgument: no desired name given");"string"==typeof t||t instanceof String||G("InvalidArgument: the given desired name is not a string");if(e.name===t)return e;try{if(Object.defineProperty(e,"name",{value:t}),e.name===t)return e}catch(e){}return new Function("originalFunction","return function "+t+" () {return originalFunction.apply(this,Array.prototype.slice.apply(arguments))}")(e)}(r,o.replace(/^ValueIs/,t?"allow":"expect")):r}var de=ue(J,ce,"boolean value"),fe=ue(Q,ce,"finite numeric value"),pe=ue(U,false,"integral numeric value");var me=function(e,t,n,r){return null==t?t:he(e,t,n,r)};var he=function(e,t,n,r){if(pe(e,t),isNaN(t)&&G("InvalidArgument: the given "+Ae(e)+" is not-a-number"),null!=n&&isFinite(n)){if(null!=r&&isFinite(r)){if(t<n||t>r)throw new RangeError("the given "+Ae(e)+" ("+t+") is outside the allowed range ("+n+"..."+r+")")}else if(t<n)throw new RangeError("the given "+Ae(e)+" is below the allowed minimum ("+t+" < "+n+")")}else if(null!=r&&isFinite(r)&&t>r)throw new RangeError("the given "+Ae(e)+" exceeds the allowed maximum ("+t+" > "+r+")");return t.valueOf()},ge=ue(ee,ce,"ordinal number"),ve=ue(te,ce,"literal string"),ye=ue(re,ce,"non-empty literal string"),be=ye,xe=ue(oe,ce,"JavaScript function"),we=xe,De=ue(ie,false,"JavaScript object"),$e=ue(ae,ce,'"plain" JavaScript object'),Te=$e;function Ee(e,t,n,r,o,i){return null==t?t:Le(e,t,n,r,o,i)}var Oe=Ee;var Le=function(e,t,n,r,o,i){if(null==t&&G("MissingArgument: no "+Ae(e)+" given"),function(e,t,n,r){if(le(e))try{for(var o=0,i=e.length;o<i;o++)if(0==t(e[o]))return!1;return!(null!=n&&e.length<n||null!=r&&e.length>r)}catch(e){}return!1}(t,n,o,i))return t;G("InvalidArgument: the given "+Ae(e)+" is "+(null==r?"either not a list or contains invalid elements":"no "+Ae(r)))};function Ae(e){return e.replace(/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?/g,(function(e){return"\\"===e?"\\\\":e})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}function ke(e,t){return void 0===t&&(t='"'),t+function(e,t){return void 0===t&&(t='"'),e.replace("'"===t?/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|'/g:/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|"/g,(function(e){switch(e){case"'":return"\\'";case'"':return'\\"';case"\\":return"\\\\";default:return e}})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}(e,t)+t}function Se(e,t){if(e===t)return!1;var n=typeof e;if(n!==typeof t)return!0;switch(n){case"undefined":case"boolean":case"string":case"function":return!0;case"number":return isNaN(e)!==isNaN(t)||Math.abs(e-t)>Number.EPSILON;case"object":return null==e||(null==t||(Array.isArray(e)?function(e,t){if(!Array.isArray(t))return!0;if(e.length!==t.length)return!0;for(var n=0,r=e.length;n<r;n++)if(Se(e[n],t[n]))return!0;return!1}(e,t):function(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!0;for(var n in e)if(!(n in t))return!0;for(var n in t){if(!(n in e))return!0;if(Se(e[n],t[n]))return!0}return!1}(e,t)));default:return!0}return!0}function Ie(e){return!function(e){for(var t in De("candidate",e),e)if(r=t,null==(n=e)||"hasOwnProperty"in n&&"function"==typeof n.hasOwnProperty?n.hasOwnProperty(r):Object.prototype.hasOwnProperty.call(n,r))return!1;var n,r;return!0}(e)}function Pe(e,t,n){return void 0===t&&(t=-1/0),void 0===n&&(n=1/0),Math.max(t,Math.min(e,n))}var Re,Fe,Me,_e,He,Ce,je,Ne,Ve={fromViewportTo:function(e,t,n){switch(!0){case null==t:throw new Error('no "Position" given');case"number"!=typeof t.left&&!(t.left instanceof Number):case"number"!=typeof t.top&&!(t.top instanceof Number):throw new Error('invalid "Position" given')}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left,top:t.top};case"document":return{left:t.left+window.scrollX,top:t.top+window.scrollY};case"local":switch(!0){case null==n:throw new Error("no target element given");case n instanceof Element:var r=window.getComputedStyle(n),o=parseFloat(r.borderLeftWidth),i=parseFloat(r.borderTopWidth),a=n.getBoundingClientRect();return{left:t.left-a.left-o,top:t.top-a.top-i};default:throw new Error("invalid target element given")}default:throw new Error("invalid coordinate system given")}},fromDocumentTo:function(e,t,n){switch(!0){case null==t:throw new Error('no "Position" given');case"number"!=typeof t.left&&!(t.left instanceof Number):case"number"!=typeof t.top&&!(t.top instanceof Number):throw new Error('invalid "Position" given')}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left-window.scrollX,top:t.top-window.scrollY};case"document":return{left:t.left,top:t.top};case"local":switch(!0){case null==n:throw new Error("no target element given");case n instanceof Element:var r=window.getComputedStyle(n),o=parseFloat(r.borderLeftWidth),i=parseFloat(r.borderTopWidth),a=n.getBoundingClientRect();return{left:t.left+window.scrollX-a.left-o,top:t.top+window.scrollY-a.top-i};default:throw new Error("invalid target element given")}default:throw new Error("invalid coordinate system given")}},fromLocalTo:function(e,t,n){switch(!0){case null==t:throw new Error('no "Position" given');case"number"!=typeof t.left&&!(t.left instanceof Number):case"number"!=typeof t.top&&!(t.top instanceof Number):throw new Error('invalid "Position" given')}var r,o,i;switch(!0){case null==n:throw new Error("no source element given");case n instanceof Element:var a=window.getComputedStyle(n),l=parseFloat(a.borderLeftWidth),s=parseFloat(a.borderTopWidth);o=(r=n.getBoundingClientRect()).left+l,i=r.top+s;break;default:throw new Error("invalid source element given")}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left+o,top:t.top+i};case"document":return{left:t.left+o+window.scrollX,top:t.top+i+window.scrollY};case"local":return{left:t.left,top:t.top};default:throw new Error("invalid coordinate system given")}}};function Xe(e){var t,n,r,o,i,a,l,s,c,u,d,f,p;switch(t=(e=Te("drag options",e)||{}).Extras,!0){case null==e.relativeTo:n="parent";break;case"parent"===e.relativeTo:case"body"===e.relativeTo:case re(e.relativeTo):case e.relativeTo instanceof HTMLElement:case e.relativeTo instanceof SVGElement:n=e.relativeTo;break;default:G("InvalidArgument: invalid position reference given")}switch(r=be('"onlyFrom" CSS selector',e.onlyFrom),o=be('"neverFrom" CSS selector',e.neverFrom),!0){case null==e.Dummy:i=void 0;break;case"standard"===e.Dummy:case"none"===e.Dummy:case re(e.Dummy):case e.Dummy instanceof HTMLElement:case e.Dummy instanceof SVGElement:case oe(e.Dummy):i=e.Dummy;break;default:G("InvalidArgument: invalid drag dummy specification given")}if(a=fe("dummy x offset",e.DummyOffsetX),l=fe("dummy y offset",e.DummyOffsetY),null==(s=fe("min. x position",e.minX))&&(s=-1/0),null==(c=fe("min. y position",e.minY))&&(c=-1/0),null==(u=fe("max. x position",e.maxX))&&(u=1/0),null==(d=fe("max. y position",e.maxY))&&(d=1/0),ae(p=e.onDragStart)&&Q(p.x)&&Q(p.y)){var m=e.onDragStart,h=m.x,g=m.y;f=function(){return{x:h,y:g}}}else f=we('"onDragStart" handler',e.onDragStart);return{Extras:t,relativeTo:n,onlyFrom:r,neverFrom:o,Dummy:i,DummyOffsetX:a,DummyOffsetY:l,minX:s,minY:c,maxX:u,maxY:d,onDragStart:f,onDragMove:we('"onDragMove" handler',e.onDragMove),onDragEnd:we('"onDragEnd" handler',e.onDragEnd),onDragCancel:undefined}}function Ye(e,t,n){if(null!=t.onlyFrom||null!=t.neverFrom){var r,o=n.clientX,i=n.clientY,a=document.elementFromPoint(o,i);if(a=qe(a,o,i),null!=t.onlyFrom)if(e!==(r=a.closest(t.onlyFrom))&&!e.contains(r))return!0;if(null!=t.neverFrom)if(e===(r=a.closest(t.neverFrom))||e.contains(r))return!0}return!1}function qe(e,t,n){for(var r=e.children,o=0,i=r.length;o<i;o++){var a=r[o],l=Ve.fromLocalTo("viewport",{left:0,top:0},a);if(!(t<l.left||n<l.top)&&!(t>l.left+a.offsetWidth-1||n>l.top+a.offsetHeight-1))return qe(a,t,n)}return e}var ze=["copy","move","link"];function Ze(e){return{Operations:Je("list of allowed operations",(e=Te("drop options",e)||{}).Operations,"copy"),DataToOffer:Object.assign({},Te("data to be offered",e.DataToOffer)),onDropZoneEnter:we('"onDropZoneEnter" handler',e.onDropZoneEnter),onDropZoneHover:we('"onDropZoneHover" handler',e.onDropZoneHover),onDropZoneLeave:we('"onDropZoneLeave" handler',e.onDropZoneLeave),onDropped:we('"onDropped" handler',e.onDropped)}}function Be(e,t){var n,r,o,i,a,l,s,c,u,d,f,p;return n=!1,r=Xe(t),o=Ze(t),e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(t){var m=Object.assign({},r,o);if(Ye(e,m,t))return t.stopPropagation(),t.preventDefault(),!1;i=function(e,t){var n;switch(!0){case"parent"===t.relativeTo:n=e.parentElement;break;case"body"===t.relativeTo:n=document.body;break;case t.relativeTo instanceof HTMLElement:case t.relativeTo instanceof SVGElement:(n=t.relativeTo)==document.body||document.body.contains(n)||G('InvalidArgument: the HTML element given as "relativeTo" option is not part of this HTML document');break;default:n=e.closest(t.relativeTo)}return null==n?document.body:n}(e,m);var h,g=Ve.fromDocumentTo("local",{left:t.pageX,top:t.pageY},i);if(a=l=0,u={x:0,y:0},null==m.onDragStart)u={x:0,y:0};else try{var v=m.onDragStart(m.Extras);if(ae(v)){var y=fe("x start position",v.x),b=fe("y start position",v.y);a=y-g.left,l=b-g.top,y=Pe(y,m.minX,m.maxX),b=Pe(b,m.minY,m.maxY),u={x:y,y:b}}}catch(e){console.error('"onDragStart" handler failed',e)}if(d=u,f=void 0,p=void 0,s=!1,null==m.Dummy&&(m.Dummy="standard"),null!=(c=function(e,t){switch(!0){case"standard"===t.Dummy:return;case"none"===t.Dummy:var n=document.createElement("div");return n.setAttribute("style","display:block; position:absolute; width:1px; height:1px; background:transparent; border:none; margin:0px; padding:0px; cursor:auto"),document.body.appendChild(n),n;case re(t.Dummy):var r=document.createElement("div");return r.style.display="block",r.style.position="absolute",r.style.left=document.body.scrollWidth+100+"px",document.body.appendChild(r),r.innerHTML=t.Dummy,r.children[0];case t.Dummy instanceof HTMLElement:case t.Dummy instanceof SVGElement:return t.Dummy;case oe(t.Dummy):var o=void 0;try{o=t.Dummy(t.Extras,e)}catch(e){console.error("RuntimeError: creating draggable dummy failed",e)}if(null!=o){if(o instanceof HTMLElement||o instanceof SVGElement)return o;console.error("InvalidArgument: the newly created draggable dummy is neither an HTML nor an SVG element")}}}(e,m))&&null!=t.dataTransfer){var x=m.DummyOffsetX,w=m.DummyOffsetY;if(null==x||null==w){var D=Ve.fromDocumentTo("local",{left:t.pageX,top:t.pageY},e);null==x&&(x=D.left),null==w&&(w=D.top)}switch(!0){case"none"===m.Dummy:t.dataTransfer.setDragImage(c,0,0),setTimeout((function(){document.body.removeChild(c)}),0);break;case te(m.Dummy):t.dataTransfer.setDragImage(c,x,w),setTimeout((function(){document.body.removeChild(c.parentElement)}),0);break;default:t.dataTransfer.setDragImage(c,x,w)}}if(null!=t.dataTransfer){var $=["none","copy","link","copyLink","move","copyMove","linkMove","all"][2*(2*((h=m.Operations).indexOf("move")<0?0:1)+(h.indexOf("link")<0?0:1))+(h.indexOf("copy")<0?0:1)];if(t.dataTransfer.effectAllowed=$,Ie(m.DataToOffer))for(var T in m.DataToOffer)m.DataToOffer.hasOwnProperty(T)&&t.dataTransfer.setData(T,m.DataToOffer[T])}Re=m.Extras,Fe=void 0,He=void 0,_e=!1,Ce=void 0,je=void 0,Ne=void 0,n=!0,setTimeout((function(){return e.classList.add("dragged")}),0),t.stopPropagation()})),e.addEventListener("drag",(function(t){if(!n)return!1;var c=Object.assign({},r,o);if(0!==t.screenX||0!==t.screenY||s){s=!1;var u=Ve.fromDocumentTo("local",{left:t.pageX,top:t.pageY},i),m=u.left+a,h=u.top+l;m=Pe(m,c.minX,c.maxX),h=Pe(h,c.minY,c.maxY);var g=m-d.x,v=h-d.y;d={x:m,y:h},Qe("onDragMove",c,m,h,g,v,c.Extras)}else s=!0;Me===f?null!=Me&&Qe("onDropZoneHover",c,He.x,He.y,Fe,c.Extras):(null==Me?(e.classList.remove("droppable"),Qe("onDropZoneLeave",c,p,c.Extras)):(e.classList.add("droppable"),Qe("onDropZoneEnter",c,He.x,He.y,p,c.Extras)),f=Me,p=Fe),t.stopPropagation()})),e.addEventListener("dragend",(function(t){if(!n)return!1;var i=Object.assign({},r,o);if(_e&&(Qe("onDropped",i,He.x,He.y,Ce,je,Ne,Fe,i.Extras),Fe=void 0,He=void 0,_e=!1,Ce=void 0,je=void 0,Ne=void 0),null!=i.onDragEnd){var a=Pe(d.x,i.minX,i.maxX),l=Pe(d.y,i.minY,i.maxY);Qe("onDragEnd",i,a,l,a-d.x,l-d.y,i.Extras)}Re=void 0,n=!1,e.classList.remove("dragged","droppable"),t.stopPropagation()})),{update:function(e){!function(e){e=Xe(e),r.Dummy=e.Dummy||r.Dummy,r.minX=e.minX,r.minY=e.minY,r.maxX=e.maxX,r.maxY=e.maxY,r.onDragStart=e.onDragStart||r.onDragStart}(e),function(e){e=Ze(e),o.Operations=e.Operations,o.DataToOffer=e.DataToOffer}(e)}}}function Ke(e){var t,n;for(var r in t=(e=Te("drop zone options",e)||{}).Extras,$e("data types to be accepted",e.TypesToAccept),n=Object.create(null),e.TypesToAccept)e.TypesToAccept.hasOwnProperty(r)&&(n[r]=Je("list of accepted operations for type "+ke(r),e.TypesToAccept[r]));return{Extras:t,TypesToAccept:n,HoldDelay:me("min. time to hold",e.HoldDelay,0),onDroppableEnter:we('"onDroppableEnter" handler',e.onDroppableEnter),onDroppableMove:we('"onDroppableMove" handler',e.onDroppableMove),onDroppableLeave:we('"onDroppableLeave" handler',e.onDroppableLeave),onDroppableHold:we('"onDroppableHold" handler',e.onDroppableHold),onDroppableRelease:we('"onDroppableRelease" handler',e.onDroppableRelease),onDrop:we('"onDrop" handler',e.onDrop)}}function We(e,t){var n;return n=Ke(t),e.setAttribute("draggable","true"),e.addEventListener("dragenter",(function(t){if(null!=t.dataTransfer&&"none"!==t.dataTransfer.effectAllowed){var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&""!==i[e]}));if(0!==a.length){var l=Ge(Ve.fromDocumentTo("local",{left:t.pageX,top:t.pageY},e));!1!==Ue("onDroppableEnter",r,l.x,l.y,o,a,Re,r.Extras)&&(Fe=r.Extras,Me=e,He=l,e.classList.add("hovered"),t.preventDefault(),t.stopPropagation())}}})),e.addEventListener("dragover",(function(t){if(null==t.dataTransfer||"none"===t.dataTransfer.effectAllowed||null!=Me&&Me!==e)e.classList.remove("hovered");else{var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&""!==i[e]}));if(0===a.length)return Me===e&&(Fe=void 0,Me=void 0,He=void 0),void e.classList.remove("hovered");if(He=Ge(Ve.fromDocumentTo("local",{left:t.pageX,top:t.pageY},e)),!1!==Ue("onDroppableMove",r,He.x,He.y,o,a,Re,r.Extras))return Fe=r.Extras,Me=e,e.classList.add("hovered"),t.preventDefault(),!1;Fe=void 0,Me=void 0,He=void 0,e.classList.remove("hovered")}})),e.addEventListener("dragleave",(function(t){e.classList.remove("hovered"),Me===e&&(null==je&&(Fe=void 0,Me=void 0,_e=!1,He=void 0,je=void 0,Ne=void 0,Qe("onDroppableLeave",n,Re,n.Extras)),t.preventDefault(),t.stopPropagation())})),e.addEventListener("drop",(function(t){if(e.classList.remove("hovered"),null!=t.dataTransfer&&"none"!==t.dataTransfer.effectAllowed&&Me===e){t.stopPropagation();var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&(null==o||i[e].indexOf(o)>=0)}));if(0===a.length)return Fe=void 0,He=void 0,_e=!1,Ce=void 0,je=void 0,Ne=void 0,void Qe("onDroppableLeave",r,Re,r.Extras);He=Ge(Ve.fromDocumentTo("local",{left:t.pageX,top:t.pageY},e));var l={};a.forEach((function(e){return l[e]=t.dataTransfer.getData(e)}));var s=Ue("onDrop",r,He.x,He.y,o,l,Re,r.Extras);switch(!0){case null==s:_e=!0,Ce=o,je=void 0,Ne=void 0;break;case se(s,a):_e=!0,Ce=o,je=s,Ne=l[s];break;default:_e=!1,Fe=void 0,He=void 0,Ce=void 0,je=void 0,Ne=void 0}Me=void 0}})),{update:function(e){null!=(e=Ke(e)).Extras&&(n.Extras=e.Extras),Ie(e.TypesToAccept)&&(n.TypesToAccept=e.TypesToAccept),null!=e.HoldDelay&&(n.HoldDelay=e.HoldDelay)}}}function Ge(e){return{x:e.left,y:e.top}}function Je(e,t,n){void 0===n&&(n="copy move link");var r=ve(e,t)||n;switch(r.trim()){case"all":return"copy move link";case"none":return""}var o=r.trim().replace(/\s+/g," ").split(" ");return Ee(e,o,(function(e){return se(e,ze)})),o.reduce((function(e,t){return e.indexOf(t)<0?e+t+" ":e})," ")}function Qe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(null!=t[e])try{return t[e].apply(null,n)}catch(t){console.error(ke(e)+" handler failed",t)}}var Ue=Qe,et={};function tt(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function nt(){if(tt()){var e=window.innerWidth,t=window.innerHeight,n=Math.min(e,t),r=Math.max(e,t);return n<=480&&r<=896}return!1}function rt(e){var t=window.matchMedia||window.webkitMatchmedia||window.mozMatchmedia||window.oMatchmedia;return null!=t&&t(e).matches}function ot(){return"interactive"===document.readyState||"complete"===document.readyState}function it(){return null==et.AppRunsOnLegacyTouchDevice&&(et.AppRunsOnLegacyTouchDevice=!rt("(pointer:fine)")&&!rt("(pointer:coarse)")&&!rt("-moz-touch-enabled")&&("ontouchstart"in Window||(navigator.maxTouchPoints||0)>0||/touch|android|iphone|ipod|ipad/i.test(navigator.userAgent))),et.AppRunsOnLegacyTouchDevice}function at(e,t){return"function"==typeof e.item?e.item(t):e[t]}function lt(e,t){for(var n=0,r=e.length;n<r;n++)if(t.test(at(e,n)))return!0;return!1}function st(){return null==et.DevicePointingAccuracy&&(ct(),ot()||et.waitingForLoaded||(et.waitingForLoaded=!0,window.addEventListener("DOMContentLoaded",ct))),et.DevicePointingAccuracy}function ct(){var e="fine";switch(!0){case rt("(pointer:none)"):e="none";break;case rt("(pointer:coarse)"):case rt("-moz-touch-enabled"):case it():e="coarse"}if(et.DevicePointingAccuracy=e,ot()){var t=document.body.classList;if("none"===e!==t.contains("noPointer")||"fine"===e!==t.contains("finePointer")||"coarse"===e!==t.contains("coarsePointer"))switch(document.body.classList.remove("noPointer","finePointer","coarsePointer"),e){case"none":document.body.classList.add("noPointer");break;case"fine":document.body.classList.add("finePointer");break;case"coarse":document.body.classList.add("coarsePointer")}}}function ut(e,t){if("function"!=typeof e)throw new Error("handler function expected");null==et.EventHandlerRegistry&&(et.EventHandlerRegistry=[]);for(var n=et.EventHandlerRegistry,r=0,o=n.length;r<o;r++)if(n[r].Handler===e)return void(n[r].onceOnly=t);n.push({Handler:e,onceOnly:t}),1===n.length&&(et.AccuracyPoller=setInterval((function(){var e=st();ct(),st()!==e&&function(){null==et.EventHandlerRegistry&&(et.EventHandlerRegistry=[]);for(var e=et.EventHandlerRegistry,t=0,n=e.length;t<n;t++){var r=e[t],o=r.Handler,i=r.onceOnly;try{o(st())}catch(e){console.warn("PointingAccuracy observation function failed with",e)}i&&dt(o)}}()}),500))}function dt(e){null==et.EventHandlerRegistry&&(et.EventHandlerRegistry=[]);for(var t=et.EventHandlerRegistry,n=0,r=t.length;n<r;n++)if(t[n].Handler===e){t.splice(n,1);break}0===t.length&&(clearInterval(et.AccuracyPoller),et.AccuracyPoller=void 0)}var ft={get isMobile(){return tt()},get isPhone(){return nt()},get isTablet(){return tt()&&!nt()},get isLegacyTouchDevice(){return it()},rewriteMediaQueriesOnLegacyTouchDevices:function e(){if(!et.MediaQueriesHaveBeenRewritten&&it())if(ot()){for(var t=document.styleSheets,n=0,r=t.length;n<r;n++)for(var o=t[n].cssRules||t[n].rules,i=0,a=o.length;i<a;i++){var l=o[i];if(l.type===CSSRule.MEDIA_RULE&&lt(l.media,/handheld/i)){var s=l.media;s.mediaText=s.mediaText.replace("handheld","screen")}}var c=document.getElementsByTagName("link");for(n=0,r=c.length;n<r;n++){var u=c[n];/handheld/i.test(u.media)&&(u.media=u.media.replace("handheld","screen"))}et.MediaQueriesHaveBeenRewritten=!0}else window.addEventListener("DOMContentLoaded",e)},get PointingAccuracy(){return st()},onPointingAccuracyChanged:function(e){ut(e,!1)},oncePointingAccuracyChanged:function(e){ut(e,!0)},offPointingAccuracyChanged:function(e){dt(e)},get observesPointingAccuracy(){return null!=et.AccuracyPoller}},pt=0;var mt=Function("return this")();"function"!=typeof mt.nextId&&(mt.nextId=function(){return++pt});function ht(e,t,n){const r=e.slice();return r[63]=t[n],r[65]=n,r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".defaultListView.svelte-17oef9f{display:inline-flex;flex-flow:column nowrap;position:relative;justify-content:flex-start;align-items:stretch;margin:0px;padding:0px;list-style:none}.withoutTextSelection.svelte-17oef9f{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.defaultListView.svelte-17oef9f>.ListItemView{display:block;position:relative;flex:0 0 auto;height:30px;line-height:30px;border:solid 1px transparent;margin:0px 2px 0px 2px;padding:0px 4px 0px 4px;list-style:none}.defaultListView.svelte-17oef9f>.ListItemView > *{pointer-events:none}.defaultListView.svelte-17oef9f>.ListItemView:hover:not(.dragged){border:solid 1px }.defaultListView.svelte-17oef9f>.ListItemView.selected:not(.dragged){background:dodgerblue }.defaultListView.svelte-17oef9f>.ListItemView.dragged{opacity:0.3 }.defaultListView.svelte-17oef9f>.ListItemView.hovered:not(.dragged){border-top:solid 10px transparent }.defaultListView.svelte-17oef9f>.AttachmentRegion{display:block;position:relative;flex:1 1 auto;min-height:20px;background:transparent;border:solid 1px transparent;margin:0px 2px 2px 2px;padding:0px;list-style:none}.defaultListView.svelte-17oef9f>.AttachmentRegion.hovered{border:solid 1px }.defaultListView.svelte-17oef9f>.Placeholder{display:flex;position:absolute;left:0px;top:0px;right:0px;height:100%;flex-flow:column nowrap;justify-content:center;align-items:center}",{insertAt:"top"});const gt=e=>({Item:1&e[0],Index:1&e[0]}),vt=e=>({Item:e[63],Index:e[65]});function yt(e,t,n){const r=e.slice();return r[63]=t[n],r[65]=n,r}const bt=e=>({Item:1&e[0],Index:1&e[0]}),xt=e=>({Item:e[63],Index:e[65]});function wt(t){let n,r=(t[5]||"(empty list)")+"";return{c(){n=y("li"),O(n,"Placeholder",!0)},m(e,t){g(e,n,t),n.innerHTML=r},p(e,t){32&t[0]&&r!==(r=(e[5]||"(empty list)")+"")&&(n.innerHTML=r)},i:e,o:e,d(e){e&&v(n)}}}function Dt(t){let n,r,o,a,l=(t[5]||"(empty list)")+"";return{c(){n=y("li"),O(n,"Placeholder",!0)},m(e,i){g(e,n,i),n.innerHTML=l,o||(a=d(r=We.call(null,n,{Extras:{List:t[0],Item:void 0},TypesToAccept:t[10],onDroppableEnter:t[20],onDroppableMove:t[21],onDrop:t[23]})),o=!0)},p(e,t){32&t[0]&&l!==(l=(e[5]||"(empty list)")+"")&&(n.innerHTML=l),r&&i(r.update)&&1025&t[0]&&r.update.call(null,{Extras:{List:e[0],Item:void 0},TypesToAccept:e[10],onDroppableEnter:e[20],onDroppableMove:e[21],onDrop:e[23]})},i:e,o:e,d(e){e&&v(n),o=!1,a()}}}function $t(e){let t,n,r,o;const i=[Et,Tt],a=[];function l(e,t){return e[1]||e[14]||e[13]?0:1}return t=l(e),n=a[t]=i[t](e),{c(){n.c(),r=w()},m(e,n){a[t].m(e,n),g(e,r,n),o=!0},p(e,o){let s=t;t=l(e),t===s?a[t].p(e,o):(X(),z(a[s],1,1,(()=>{a[s]=null})),Y(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),q(n,1),n.m(r.parentNode,r))},i(e){o||(q(n),o=!0)},o(e){z(n),o=!1},d(e){a[t].d(e),e&&v(r)}}}function Tt(e){let t,n,r=[],o=new Map,i=e[0];const a=e=>e[11](e[63]);for(let t=0;t<i.length;t+=1){let n=ht(e,i,t),l=a(n);o.set(l,r[t]=Ot(l,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=w()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);g(e,t,o),n=!0},p(e,n){34881&n[0]|16384&n[1]&&(i=e[0],X(),r=B(r,n,a,1,e,i,o,t.parentNode,Z,Ot,t,ht),Y())},i(e){if(!n){for(let e=0;e<i.length;e+=1)q(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)z(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&v(t)}}}function Et(e){let t,n,r,o=[],i=new Map,a=e[0];const l=e=>e[11](e[63]);for(let t=0;t<a.length;t+=1){let n=yt(e,a,t),r=l(n);i.set(r,o[t]=Lt(r,n))}let s=(e[1]||e[14])&&At(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=x(),s&&s.c(),n=w()},m(e,i){for(let t=0;t<o.length;t+=1)o[t].m(e,i);g(e,t,i),s&&s.m(e,i),g(e,n,i),r=!0},p(e,r){16752577&r[0]|16384&r[1]&&(a=e[0],X(),o=B(o,r,l,1,e,a,i,t.parentNode,Z,Lt,t,yt),Y()),e[1]||e[14]?s?s.p(e,r):(s=At(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i(e){if(!r){for(let e=0;e<a.length;e+=1)q(o[e]);r=!0}},o(e){for(let e=0;e<o.length;e+=1)z(o[e]);r=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&v(t),s&&s.d(e),e&&v(n)}}}function Ot(e,t){let n,r,o,i,a;const s=t[46].default,u=l(s,t,t[45],vt),d=u||function(e){let t,n=e[11](e[63])+"";return{c(){t=b(n)},m(e,n){g(e,t,n)},p(e,r){2049&r[0]&&n!==(n=e[11](e[63])+"")&&E(t,n)},d(e){e&&v(t)}}}(t);function f(...e){return t[48](t[63],...e)}return{key:e,first:null,c(){n=y("li"),d&&d.c(),r=x(),O(n,"ListItemView",!0),O(n,"selected",t[6](t[63])),this.first=n},m(e,t){g(e,n,t),d&&d.m(n,null),h(n,r),o=!0,i||(a=D(n,"click",f),i=!0)},p(e,r){t=e,u?u.p&&(!o||1&r[0]|16384&r[1])&&c(u,s,t,t[45],o?r:[-1,-1,-1],gt,vt):d&&d.p&&(!o||2049&r[0])&&d.p(t,o?r:[-1,-1,-1]),65&r[0]&&O(n,"selected",t[6](t[63]))},i(e){o||(q(d,e),o=!0)},o(e){z(d,e),o=!1},d(e){e&&v(n),d&&d.d(e),i=!1,a()}}}function Lt(e,t){let n,r,a,s,u,f;const p=t[46].default,m=l(p,t,t[45],xt),h=m||function(e){let t,n=e[11](e[63])+"";return{c(){t=b(n)},m(e,n){g(e,t,n)},p(e,r){2049&r[0]&&n!==(n=e[11](e[63])+"")&&E(t,n)},d(e){e&&v(t)}}}(t);function x(...e){return t[47](t[63],...e)}return{key:e,first:null,c(){n=y("li"),h&&h.c(),O(n,"ListItemView",!0),O(n,"dragged",t[12].indexOf(t[63])>=0),O(n,"selected",t[6](t[63])),this.first=n},m(e,o){g(e,n,o),h&&h.m(n,null),s=!0,u||(f=[D(n,"click",x),d(r=Be.call(null,n,{onlyFrom:t[7],neverFrom:t[8],Dummy:t[16],Extras:{List:t[0],Item:t[63]},DataToOffer:t[9],onDragStart:t[17],onDragEnd:t[18],onDropped:t[19]})),d(a=We.call(null,n,{Extras:{List:t[0],Item:t[63]},TypesToAccept:t[10],onDrop:t[23],onDroppableEnter:t[20],onDroppableMove:t[21],onDroppableLeave:t[22]}))],u=!0)},p(e,o){t=e,m?m.p&&(!s||1&o[0]|16384&o[1])&&c(m,p,t,t[45],s?o:[-1,-1,-1],bt,xt):h&&h.p&&(!s||2049&o[0])&&h.p(t,s?o:[-1,-1,-1]),r&&i(r.update)&&897&o[0]&&r.update.call(null,{onlyFrom:t[7],neverFrom:t[8],Dummy:t[16],Extras:{List:t[0],Item:t[63]},DataToOffer:t[9],onDragStart:t[17],onDragEnd:t[18],onDropped:t[19]}),a&&i(a.update)&&1025&o[0]&&a.update.call(null,{Extras:{List:t[0],Item:t[63]},TypesToAccept:t[10],onDrop:t[23],onDroppableEnter:t[20],onDroppableMove:t[21],onDroppableLeave:t[22]}),4097&o[0]&&O(n,"dragged",t[12].indexOf(t[63])>=0),65&o[0]&&O(n,"selected",t[6](t[63]))},i(e){s||(q(h,e),s=!0)},o(e){z(h,e),s=!1},d(e){e&&v(n),h&&h.d(e),u=!1,o(f)}}}function At(e){let t,n,r,o,a=(e[4]||"")+"";return{c(){t=y("li"),O(t,"AttachmentRegion",!0)},m(i,l){g(i,t,l),t.innerHTML=a,r||(o=d(n=We.call(null,t,{Extras:{List:e[0],Item:void 0},TypesToAccept:e[10],onDroppableEnter:e[20],onDroppableMove:e[21],onDrop:e[23]})),r=!0)},p(e,r){16&r[0]&&a!==(a=(e[4]||"")+"")&&(t.innerHTML=a),n&&i(n.update)&&1025&r[0]&&n.update.call(null,{Extras:{List:e[0],Item:void 0},TypesToAccept:e[10],onDroppableEnter:e[20],onDroppableMove:e[21],onDrop:e[23]})},d(e){e&&v(t),r=!1,o()}}}function kt(e){let n,r,o,i;const a=[$t,Dt,wt],l=[];function s(e,t){return e[0].length>0?0:e[14]?1:2}r=s(e),o=l[r]=a[r](e);let c=[{class:e[2]},{style:e[3]},e[24]],u={};for(let e=0;e<c.length;e+=1)u=t(u,c[e]);return{c(){n=y("ul"),o.c(),T(n,u),O(n,"defaultListView",null==e[2]),O(n,"withoutTextSelection",!0),O(n,"svelte-17oef9f",!0)},m(e,t){g(e,n,t),l[r].m(n,null),i=!0},p(e,t){let d=r;r=s(e),r===d?l[r].p(e,t):(X(),z(l[d],1,1,(()=>{l[d]=null})),Y(),o=l[r],o?o.p(e,t):(o=l[r]=a[r](e),o.c()),q(o,1),o.m(n,null)),T(n,u=function(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const a=e[i],l=t[i];if(l){for(const e in a)e in l||(r[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[i]=l}else for(const e in a)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(c,[(!i||4&t[0])&&{class:e[2]},(!i||8&t[0])&&{style:e[3]},16777216&t[0]&&e[24]])),O(n,"defaultListView",null==e[2]),O(n,"withoutTextSelection",!0),O(n,"svelte-17oef9f",!0)},i(e){i||(q(o),i=!0)},o(e){z(o),i=!1},d(e){e&&v(n),l[r].d()}}}function St(e,n,r){const o=["class","style","List","Key","SelectionLimit","AttachmentRegion","Placeholder","select","selectOnly","selectAll","selectRange","deselect","deselectAll","toggleSelectionOf","selectedItems","SelectionCount","isSelected","sortable","onlyFrom","neverFrom","onSortRequest","onSort","Operations","DataToOffer","TypesToAccept","onOuterDropRequest","onDroppedOutside","onDropFromOutside"];let i=u(n,o),{$$slots:a={},$$scope:l}=n,s="uid-"+mt.nextId();const c=A();let d,f,{class:p}=n,{style:m}=n,{List:h}=n,{Key:g}=n,{SelectionLimit:v}=n,{AttachmentRegion:y}=n,{Placeholder:b}=n;let x,w,D=new WeakMap;function $(...e){let t=I();e.forEach((e=>{d(e)in f?D.has(e)||(null==v||t<v)&&(D.set(e,!0),t++,c("selected-item",e)):G('InvalidArgument: one or multiple of the given items to select are not part of the given "List"')})),x=1===e.length?e[0]:void 0,w=void 0,ae()}function T(...e){Se(S(),e)&&(L(),$(...e))}function E(e){if(null==x)return void $(e);if(x===e)return;null!=w&&function(e){let t=h.indexOf(x),n=h.indexOf(e),r=Math.min(t,n),o=Math.max(t,n);for(let e=r;e<=o;e++)D.has(h[e])&&(D.delete(h[e]),c("deselected-item",h[e]))}(w);let t=h.indexOf(x),n=h.indexOf(e),r=Math.min(t,n),o=Math.max(t,n),i=I();for(let e=r;e<=o;e++)D.has(h[e])||(null==v||i<v)&&(D.set(h[e],!0),c("selected-item",h[e]));w=e,ae()}function O(...e){e.forEach((e=>{d(e)in f?D.has(e)&&(D.delete(e),c("deselected-item",e)):G('InvalidArgument: one or multiple of the given items to deselect are not part of the given "List"')})),x=w=void 0,ae()}function L(){h.forEach((e=>{D.has(e)&&(D.delete(e),c("deselected-item",e))})),x=w=void 0,ae()}function k(...e){x=void 0;let t=[];e.forEach((e=>{d(e)in f?D.has(e)?(D.delete(e),c("deselected-item",e)):t.push(e):G('InvalidArgument: one or multiple of the given items to select or deselect are not part of the given "List"')}));let n=I();if(null!=v){let e=v-n;e<t.length&&(t.length=e)}t.forEach((t=>{D.set(t,!0),c("selected-item",t),1===e.length&&(x=t,w=void 0)})),ae()}function S(){return h.filter((e=>D.has(e)))}function I(){return h.reduce(((e,t)=>e+(D.has(t)?1:0)),0)}function P(e){return D.has(e)}function R(e,t){switch(!0){case 0===e.buttons&&0!==e.button:case 0!==e.buttons&&1!==e.buttons:return;case"coarse"===ft.PointingAccuracy:case e.ctrlKey:case e.metaKey:k(t);break;case e.shiftKey:E(t);break;default:T(t)}e.preventDefault(),e.stopPropagation()}let F,M,_=!1,H=[],{sortable:C=!1}=n,{onlyFrom:j}=n,{neverFrom:N}=n,{onSortRequest:V}=n,{onSort:X}=n,{Operations:Y}=n,{DataToOffer:q}=n,{TypesToAccept:z}=n,{onOuterDropRequest:Z}=n,{onDroppedOutside:B}=n,{onDropFromOutside:K}=n;function W(e,t,n="copy move link"){let r=ve(e,t)||n;switch(r.trim()){case"all":return"copy move link";case"none":return""}let o=r.trim().replace(/\s+/g," ").split(" ");return Ee(e,o,(e=>se(e,ze))),o.reduce(((e,t)=>e.indexOf(t)<0?e+t+" ":e)," ")}function J(e){for(let t in e)if(e.hasOwnProperty(t)&&t!==s)return!0;return!1}let Q=!1,U=!1;function ee(e,t,n,r,o,i){if(h===(o&&o.List)&&h.indexOf(o.Item)>=0&&o.ItemList.indexOf(i.Item)>=0)return ae(),!1;let a=!0;if(h===(o&&o.List))if(C){if(null!=V)try{a=V(e,t,o,i)}catch(e){a=!1,console.error('RuntimeError: callback "onSortRequest" failed',e)}}else a=!1;else if(null!=Z)try{a=Z(e,t,n,r,o,o)}catch(e){a=!1,console.error('RuntimeError: callback "onOuterDropRequest" failed',e)}return a&&i.Item,ae(),a&&"link"!==n}const te=ee;function ne(e){let t=Object.create(null);return e.forEach((e=>{let n=d(e);t[n]=e})),t}function ae(){r(0,h)}return e.$$set=e=>{n=t(t({},n),function(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}(e)),r(24,i=u(n,o)),"class"in e&&r(2,p=e.class),"style"in e&&r(3,m=e.style),"List"in e&&r(0,h=e.List),"Key"in e&&r(25,g=e.Key),"SelectionLimit"in e&&r(26,v=e.SelectionLimit),"AttachmentRegion"in e&&r(4,y=e.AttachmentRegion),"Placeholder"in e&&r(5,b=e.Placeholder),"sortable"in e&&r(1,C=e.sortable),"onlyFrom"in e&&r(7,j=e.onlyFrom),"neverFrom"in e&&r(8,N=e.neverFrom),"onSortRequest"in e&&r(36,V=e.onSortRequest),"onSort"in e&&r(37,X=e.onSort),"Operations"in e&&r(38,Y=e.Operations),"DataToOffer"in e&&r(39,q=e.DataToOffer),"TypesToAccept"in e&&r(40,z=e.TypesToAccept),"onOuterDropRequest"in e&&r(41,Z=e.onOuterDropRequest),"onDroppedOutside"in e&&r(42,B=e.onDroppedOutside),"onDropFromOutside"in e&&r(43,K=e.onDropFromOutside),"$$scope"in e&&r(45,l=e.$$scope)},e.$$.update=()=>{if(4&e.$$.dirty[0]&&ye('"class" attribute',p),8&e.$$.dirty[0]&&ye('"style" attribute',m),1&e.$$.dirty[0]&&r(0,h=Oe('"List" attribute',h,ie)||[]),33554432&e.$$.dirty[0])switch(!0){case null==g:r(11,d=e=>String(e));break;case re(g):r(11,d=e=>String(e[g]));break;case oe(g):r(11,d=e=>String(g(e)));break;default:G('InvalidArgument: the given "Key" attribute is neither a non-empty string nor a function returning such a string')}if(67108864&e.$$.dirty[0]&&ge("selection limit",v),16&e.$$.dirty[0]&&ye('"AttachmentRegion" attribute',y),32&e.$$.dirty[0]&&ye('"Placeholder" attribute',b),33554433&e.$$.dirty[0]&&(f=Object.create(null),h.forEach((e=>{let t=d(e);t in f?f[t]===e?G('InvalidArgument: the given "List" contains the same item multiple times'):G('InvalidArgument: the given "Key" does not produce unique keys for every "List" item'):f[t]=e}))),67108865&e.$$.dirty[0]&&null!=v&&I()>v){let e=0;h.forEach((t=>{D.has(t)&&(e++,e>v&&O(t))}))}if(2&e.$$.dirty[0]&&r(1,C=de('"sortable" attribute',C)||!1),128&e.$$.dirty[0]&&ye('"onlyFrom" CSS selector list',j),256&e.$$.dirty[0]&&ye('"neverFrom" CSS selector list',N),32&e.$$.dirty[1]&&xe('"onSortRequest" callback',V),64&e.$$.dirty[1]&&xe('"onSort" callback',X),128&e.$$.dirty[1]&&W("list of allowed operations",Y),256&e.$$.dirty[1]&&$e('"DataToOffer" attribute',q),512&e.$$.dirty[1]&&$e('"TypesToAccept" attribute',z),1024&e.$$.dirty[1]&&xe('"onOuterDropRequest" callback',Z),2048&e.$$.dirty[1]&&xe('"onDroppedOutside" callback',B),4096&e.$$.dirty[1]&&xe('"onDropFromOutside" callback',K),2&e.$$.dirty[0]|8448&e.$$.dirty[1]&&(_||(r(9,F=Object.assign({},q)),C&&r(9,F[s]="",F))),2&e.$$.dirty[0]|8704&e.$$.dirty[1]&&!_){r(10,M={});for(let e in z)z.hasOwnProperty(e)&&r(10,M[e]=W("list of accepted operations for type "+ke(e),z[e]),M);C&&r(10,M[s]="copy move",M)}1536&e.$$.dirty[0]|8192&e.$$.dirty[1]&&(_||(r(13,Q=J(F)),r(14,U=J(M))))},[h,C,p,m,y,b,P,j,N,F,M,d,H,Q,U,R,function(e,t){let n=t.cloneNode(!0);if(n.style.display="block",n.style.position="absolute",n.style.left=document.body.scrollWidth+100+"px",n.style.width=t.clientWidth+"px",n.style.height=t.clientHeight+"px",H.length>1){let e=document.createElement("div");e.setAttribute("style","display:block; position:absolute; top:-10px; right:-10px; width:20px; height:20px; background:red; color:white; border:none; border-radius:10px; margin:0px; padding:0px 4px 0px 4px; line-height:20px; text-align:center"),e.innerText="+"+(H.length-1),n.appendChild(e)}return document.body.appendChild(n),setTimeout((()=>{document.body.removeChild(n)}),0),n},function(e){return r(44,_=!0),P(e.Item)||T(e.Item),r(12,H=e.ItemList=S()),{x:0,y:0}},function(e,t,n,o,i){r(44,_=!1),delete i.ItemList,r(12,H.length=0,H)},function(e,t,n,r,o,i,a){if(!(h===(i&&i.List)))if(null==B){let e=a.ItemList,t=ne(e);for(let e=h.length-1;e>=0;e--){d(h[e])in t&&h.splice(e,1)}c("removed-items",e.slice()),ae()}else{try{B(e,t,n,r,o,i,a)}catch(e){console.error('RuntimeError: callback "onDroppedOutside" failed',e)}ae()}},ee,te,function(e,t){},function(e,t,n,r,o,i){if(h===(o&&o.List)&&h.indexOf(o.Item)>=0&&o.ItemList.indexOf(i.Item)>=0)return ae(),"none";if(h===(o&&o.List)){if(C){let e=o.ItemList;if(null==X){let t=ne(e);for(let e=h.length-1;e>=0;e--){d(h[e])in t&&h.splice(e,1)}let n=h.indexOf(i.Item);n<0&&(n=h.length),h.splice.apply(h,[n,0].concat(e)),c("sorted-items",[e.slice(),n]),ae()}else{try{X(i.Item,e.slice())}catch(e){console.error('RuntimeError: callback "onSort" failed',e)}ae()}return n}return"none"}if(null==K){let e=o&&o.ItemList;if(!function(e,t,n){if(le(e)){for(var r=0,o=e.length;r<o;r++)if(void 0===e[r])return!1;return!(null!=t&&e.length<t||null!=n&&e.length>n)}return!1}(e))return"none";let t=h.indexOf(i.Item);return t<0&&(t=h.length),h.splice.apply(h,[t,0].concat(e)),c("inserted-items",[e.slice(),t]),void ae()}{let a;try{a=K(e,t,n,r,o,i)}catch(e){console.error('RuntimeError: callback "onSort" failed',e)}return ae(),a}},i,g,v,$,T,function(){let e=I();h.forEach((t=>{D.has(t)||(null==v||e<v)&&(D.set(t,!0),e++,c("selected-item",t))})),x=w=void 0,ae()},E,O,L,k,S,I,V,X,Y,q,z,Z,B,K,_,l,a,(e,t)=>R(t,e),(e,t)=>R(t,e)]}return class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),W(this,e,St,kt,a,{class:2,style:3,List:0,Key:25,SelectionLimit:26,AttachmentRegion:4,Placeholder:5,select:27,selectOnly:28,selectAll:29,selectRange:30,deselect:31,deselectAll:32,toggleSelectionOf:33,selectedItems:34,SelectionCount:35,isSelected:6,sortable:1,onlyFrom:7,neverFrom:8,onSortRequest:36,onSort:37,Operations:38,DataToOffer:39,TypesToAccept:40,onOuterDropRequest:41,onDroppedOutside:42,onDropFromOutside:43},[-1,-1,-1])}get class(){return this.$$.ctx[2]}set class(e){this.$set({class:e}),C()}get style(){return this.$$.ctx[3]}set style(e){this.$set({style:e}),C()}get List(){return this.$$.ctx[0]}set List(e){this.$set({List:e}),C()}get Key(){return this.$$.ctx[25]}set Key(e){this.$set({Key:e}),C()}get SelectionLimit(){return this.$$.ctx[26]}set SelectionLimit(e){this.$set({SelectionLimit:e}),C()}get AttachmentRegion(){return this.$$.ctx[4]}set AttachmentRegion(e){this.$set({AttachmentRegion:e}),C()}get Placeholder(){return this.$$.ctx[5]}set Placeholder(e){this.$set({Placeholder:e}),C()}get select(){return this.$$.ctx[27]}get selectOnly(){return this.$$.ctx[28]}get selectAll(){return this.$$.ctx[29]}get selectRange(){return this.$$.ctx[30]}get deselect(){return this.$$.ctx[31]}get deselectAll(){return this.$$.ctx[32]}get toggleSelectionOf(){return this.$$.ctx[33]}get selectedItems(){return this.$$.ctx[34]}get SelectionCount(){return this.$$.ctx[35]}get isSelected(){return this.$$.ctx[6]}get sortable(){return this.$$.ctx[1]}set sortable(e){this.$set({sortable:e}),C()}get onlyFrom(){return this.$$.ctx[7]}set onlyFrom(e){this.$set({onlyFrom:e}),C()}get neverFrom(){return this.$$.ctx[8]}set neverFrom(e){this.$set({neverFrom:e}),C()}get onSortRequest(){return this.$$.ctx[36]}set onSortRequest(e){this.$set({onSortRequest:e}),C()}get onSort(){return this.$$.ctx[37]}set onSort(e){this.$set({onSort:e}),C()}get Operations(){return this.$$.ctx[38]}set Operations(e){this.$set({Operations:e}),C()}get DataToOffer(){return this.$$.ctx[39]}set DataToOffer(e){this.$set({DataToOffer:e}),C()}get TypesToAccept(){return this.$$.ctx[40]}set TypesToAccept(e){this.$set({TypesToAccept:e}),C()}get onOuterDropRequest(){return this.$$.ctx[41]}set onOuterDropRequest(e){this.$set({onOuterDropRequest:e}),C()}get onDroppedOutside(){return this.$$.ctx[42]}set onDroppedOutside(e){this.$set({onDroppedOutside:e}),C()}get onDropFromOutside(){return this.$$.ctx[43]}set onDropFromOutside(e){this.$set({onDropFromOutside:e}),C()}}}));
//# sourceMappingURL=svelte-sortable-flat-list-view.bundled.js.map
