!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e.sortableFlatListView,r=e.sortableFlatListView=t();r.noConflict=function(){return e.sortableFlatListView=n,r}}())}(this,(function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n,r){if(e){const o=s(e,t,n,r);return e[0](o)}}function s(e,n,r,o){return e[1]&&o?t(r.ctx.slice(),e[1](o(n))):r.ctx}function c(e,t,n,r,o,i,a){const l=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,i);if(l){const o=s(t,n,r,a);e.p(o,l)}}function u(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function d(t){return t&&i(t.destroy)?t.destroy:e}let f,p=!1;function m(e,t,n,r){for(;e<t;){const o=e+(t-e>>1);n(o)<=r?e=o+1:t=o}return e}function v(e,t){p?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),r=new Int32Array(t.length);n[0]=-1;let o=0;for(let e=0;e<t.length;e++){const i=m(1,o+1,(e=>t[n[e]].claim_order),t[e].claim_order)-1;r[e]=n[i]+1;const a=i+1;n[a]=e,o=Math.max(a,o)}const i=[],a=[];let l=t.length-1;for(let e=n[o]+1;0!=e;e=r[e-1]){for(i.push(t[e-1]);l>=e;l--)a.push(t[l]);l--}for(;l>=0;l--)a.push(t[l]);i.reverse(),a.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,n=0;t<a.length;t++){for(;n<i.length&&a[t].claim_order>=i[n].claim_order;)n++;const r=n<i.length?i[n]:null;e.insertBefore(a[t],r)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function h(e,t,n){p&&!n?v(e,t):(t.parentNode!==e||n&&t.nextSibling!==n)&&e.insertBefore(t,n||null)}function g(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function x(){return b(" ")}function $(){return b("")}function w(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function D(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:D(e,r,t[r])}function T(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function O(e,t,n){e.classList[n?"add":"remove"](t)}function E(e){f=e}function A(){const e=function(){if(!f)throw new Error("Function called outside component initialization");return f}();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}const S=[],L=[],I=[],F=[],M=Promise.resolve();let P=!1;function q(e){I.push(e)}let _=!1;const R=new Set;function C(){if(!_){_=!0;do{for(let e=0;e<S.length;e+=1){const t=S[e];E(t),j(t.$$)}for(E(null),S.length=0;L.length;)L.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];R.has(t)||(R.add(t),t())}I.length=0}while(S.length);for(;F.length;)F.pop()();P=!1,_=!1,R.clear()}}function j(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}const z=new Set;let N;function H(){N={r:0,c:[],p:N}}function Z(){N.r||o(N.c),N=N.p}function X(e,t){e&&e.i&&(z.delete(e),e.i(t))}function Y(e,t,n,r){if(e&&e.o){if(z.has(e))return;z.add(e),N.c.push((()=>{z.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function K(e,t){Y(e,1,1,(()=>{t.delete(e.key)}))}function V(e,t){-1===e.$$.dirty[0]&&(S.push(e),P||(P=!0,M.then(C)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(t,a,l,s,c,u,d=[-1]){const m=f;E(t);const v=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(m?m.$$.context:a.context||[]),callbacks:r(),dirty:d,skip_bound:!1};let h=!1;if(v.ctx=l?l(t,a.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return v.ctx&&c(v.ctx[e],v.ctx[e]=o)&&(!v.skip_bound&&v.bound[e]&&v.bound[e](o),h&&V(t,e)),n})):[],v.update(),h=!0,o(v.before_update),v.fragment=!!s&&s(v.ctx),a.target){if(a.hydrate){p=!0;const e=function(e){return Array.from(e.childNodes)}(a.target);v.fragment&&v.fragment.l(e),e.forEach(g)}else v.fragment&&v.fragment.c();a.intro&&X(t.$$.fragment),function(e,t,r,a){const{fragment:l,on_mount:s,on_destroy:c,after_update:u}=e.$$;l&&l.m(t,r),a||q((()=>{const t=s.map(n).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(q)}(t,a.target,a.anchor,a.customElement),p=!1,C()}E(m)}function J(e){var t=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(e);if(null==t)throw new Error(e);var n=new Error(t[2]);throw n.name=t[1],n}function W(e){return"boolean"==typeof e||e instanceof Boolean}function G(e){return("number"==typeof e||e instanceof Number)&&(e=e.valueOf(),isFinite(e)&&Math.round(e)===e&&e>=0)}function U(e){return"string"==typeof e||e instanceof String}var Q=/^\s*$/;function ee(e){return("string"==typeof e||e instanceof String)&&!Q.test(e.valueOf())}function te(e){return"function"==typeof e}function ne(e){return null!=e&&"object"==typeof e}function re(e){return null!=e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}var oe=Array.isArray;var ie=!0;function ae(e,t,n){var r=function(r,o){return function(e,t,n,r,o){if(null==t){if(r)return t;J("MissingArgument: no "+he(e)+" given")}else if(n(t))switch(!0){case t instanceof Boolean:case t instanceof Number:case t instanceof String:return t.valueOf();default:return t}else J("InvalidArgument: the given "+he(e)+" is no valid "+he(o))}(r,o,e,t,n)},o=e.name;return null!=o&&/^ValueIs/.test(o)?function(e,t){null==e&&J("MissingArgument: no function given");"function"!=typeof e&&J("InvalidArgument: the given 1st Argument is not a JavaScript function");null==t&&J("MissingArgument: no desired name given");"string"==typeof t||t instanceof String||J("InvalidArgument: the given desired name is not a string");if(e.name===t)return e;try{if(Object.defineProperty(e,"name",{value:t}),e.name===t)return e}catch(e){}return new Function("originalFunction","return function "+t+" () {return originalFunction.apply(this,Array.prototype.slice.apply(arguments))}")(e)}(r,o.replace(/^ValueIs/,t?"allow":"expect")):r}var le=ae(W,ie,"boolean value"),se=ae(G,ie,"ordinal number"),ce=ae(U,ie,"literal string"),ue=ae(ee,ie,"non-empty literal string"),de=ae(te,ie,"JavaScript function"),fe=ae(re,ie,'"plain" JavaScript object');function pe(e,t,n,r,o,i){return null==t?t:ve(e,t,n,r,o,i)}var me=pe;var ve=function(e,t,n,r,o,i){if(null==t&&J("MissingArgument: no "+he(e)+" given"),function(e,t,n,r){if(oe(e))try{for(var o=0,i=e.length;o<i;o++)if(0==t(e[o]))return!1;return!(null!=n&&e.length<n||null!=r&&e.length>r)}catch(e){}return!1}(t,n,o,i))return t;J("InvalidArgument: the given "+he(e)+" is "+(null==r?"either not a list or contains invalid elements":"no "+he(r)))};function he(e){return e.replace(/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?/g,(function(e){return"\\"===e?"\\\\":e})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}function ge(e,t){if(e===t)return!1;var n=typeof e;if(n!==typeof t)return!0;switch(n){case"undefined":case"boolean":case"string":case"function":return!0;case"number":return isNaN(e)!==isNaN(t)||Math.abs(e-t)>Number.EPSILON;case"object":return null==e||(null==t||(Array.isArray(e)?function(e,t){if(!Array.isArray(t))return!0;if(e.length!==t.length)return!0;for(var n=0,r=e.length;n<r;n++)if(ge(e[n],t[n]))return!0;return!1}(e,t):function(e,t){if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!0;for(var n in e)if(!(n in t))return!0;for(var n in t){if(!(n in e))return!0;if(ge(e[n],t[n]))return!0}return!1}(e,t)));default:return!0}return!0}var ye,be=!1;ye=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ye)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(ye.substr(0,4)))&&(be=!0);var xe=!1;if(be){var $e=window.innerWidth,we=window.innerHeight,De=Math.min($e,we),ke=Math.max($e,we);xe=De<=480&&ke<=896}var Te=window.matchMedia||window.webkitMatchmedia||window.mozMatchmedia||window.oMatchmedia;function Oe(e){return null!=Te&&Te(e).matches}function Ee(){return"interactive"===document.readyState||"complete"===document.readyState}var Ae,Se=!Oe("(pointer:fine)")&&!Oe("(pointer:coarse)")&&!Oe("-moz-touch-enabled")&&("ontouchstart"in Window||(navigator.maxTouchPoints||0)>0||/touch|android|iphone|ipod|ipad/i.test(navigator.userAgent));function Le(){var e="fine";switch(!0){case Oe("(pointer:none)"):e="none";break;case Oe("(pointer:coarse)"):case Oe("-moz-touch-enabled"):case Se:e="coarse"}if(Ae=e,Ee())switch(document.body.classList.remove("noPointer","finePointer","coarsePointer"),e){case"none":document.body.classList.add("noPointer");break;case"fine":document.body.classList.add("finePointer");break;case"coarse":document.body.classList.add("coarsePointer")}}Le(),Ee()||window.addEventListener("DOMContentLoaded",Le);var Ie=[];function Fe(e,t){if("function"!=typeof e)throw new Error("handler function expected");for(var n=0,r=Ie.length;n<r;n++)if(Ie[n].Handler===e)return void(Ie[n].onceOnly=t);Ie.push({Handler:e,onceOnly:t}),1===Ie.length&&(Pe=setInterval((function(){var e=Ae;Le(),Ae!==e&&function(){for(var e=0,t=Ie.length;e<t;e++){var n=Ie[e],r=n.Handler,o=n.onceOnly;try{r(Ae)}catch(e){console.warn("PointingAccuracy observation function failed with",e)}o&&Me(r)}}()}),500))}function Me(e){for(var t=0,n=Ie.length;t<n;t++)if(Ie[t].Handler===e){Ie.splice(t,1);break}0===Ie.length&&(clearInterval(Pe),Pe=void 0)}var Pe=void 0;function qe(e,t){return"function"==typeof e.item?e.item(t):e[t]}function _e(e,t){for(var n=0,r=e.length;n<r;n++)if(t.test(qe(e,n)))return!0;return!1}if(Se){for(var Re=document.styleSheets,Ce=0,je=Re.length;Ce<je;Ce++)for(var ze=Re[Ce].cssRules||Re[Ce].rules,Ne=0,He=ze.length;Ne<He;Ne++){var Ze=ze[Ne];if(Ze.type===CSSRule.MEDIA_RULE&&_e(Ze.media,/handheld/i)){var Xe=Ze.media;Xe.mediaText=Xe.mediaText.replace("handheld","screen")}}var Ye=document.getElementsByTagName("link");for(Ce=0,je=Ye.length;Ce<je;Ce++){var Ke=Ye[Ce];/handheld/i.test(Ke.media)&&(Ke.media=Ke.media.replace("handheld","screen"))}}var Ve={get isMobile(){return be},get isPhone(){return xe},get isTablet(){return be&&!xe},get isLegacyTouchDevice(){return Se},get PointingAccuracy(){return Ae},onPointingAccuracyChanged:function(e){Fe(e,!1)},oncePointingAccuracyChanged:function(e){Fe(e,!0)},offPointingAccuracyChanged:function(e){Me(e)},get observesPointingAccuracy(){return null!=Pe}},Be=0;function Je(e){var t=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(e);if(null==t)throw new Error(e);var n=new Error(t[2]);throw n.name=t[1],n}function We(e){return("number"==typeof e||e instanceof Number)&&isFinite(e.valueOf())}function Ge(e){return("number"==typeof e||e instanceof Number)&&(e=e.valueOf(),isFinite(e)&&Math.round(e)===e)}function Ue(e){return"string"==typeof e||e instanceof String}var Qe=/^\s*$/;function et(e){return("string"==typeof e||e instanceof String)&&!Qe.test(e.valueOf())}function tt(e){return"function"==typeof e}function nt(e){return null!=e&&"object"==typeof e}function rt(e){return null!=e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}var ot=Array.isArray;function it(e,t){return t.indexOf(e)>=0}var at=!0;function lt(e,t,n){var r=function(r,o){return function(e,t,n,r,o){if(null==t){if(r)return t;Je("MissingArgument: no "+bt(e)+" given")}else if(n(t))switch(!0){case t instanceof Boolean:case t instanceof Number:case t instanceof String:return t.valueOf();default:return t}else Je("InvalidArgument: the given "+bt(e)+" is no valid "+bt(o))}(r,o,e,t,n)},o=e.name;return null!=o&&/^ValueIs/.test(o)?function(e,t){null==e&&Je("MissingArgument: no function given");"function"!=typeof e&&Je("InvalidArgument: the given 1st Argument is not a JavaScript function");null==t&&Je("MissingArgument: no desired name given");"string"==typeof t||t instanceof String||Je("InvalidArgument: the given desired name is not a string");if(e.name===t)return e;try{if(Object.defineProperty(e,"name",{value:t}),e.name===t)return e}catch(e){}return new Function("originalFunction","return function "+t+" () {return originalFunction.apply(this,Array.prototype.slice.apply(arguments))}")(e)}(r,o.replace(/^ValueIs/,t?"allow":"expect")):r}var st=lt(We,at,"finite numeric value"),ct=lt(Ge,false,"integral numeric value");var ut=function(e,t,n,r){return null==t?t:dt(e,t,n,r)};var dt=function(e,t,n,r){if(ct(e,t),isNaN(t)&&Je("InvalidArgument: the given "+bt(e)+" is not-a-number"),null!=n&&isFinite(n)){if(null!=r&&isFinite(r)){if(t<n||t>r)throw new RangeError("the given "+bt(e)+" ("+t+") is outside the allowed range ("+n+"..."+r+")")}else if(t<n)throw new RangeError("the given "+bt(e)+" is below the allowed minimum ("+t+" < "+n+")")}else if(null!=r&&isFinite(r)&&t>r)throw new RangeError("the given "+bt(e)+" exceeds the allowed maximum ("+t+" > "+r+")");return t.valueOf()},ft=lt(Ue,at,"literal string"),pt=lt(et,at,"non-empty literal string"),mt=lt(tt,at,"JavaScript function"),vt=lt(nt,false,"JavaScript object"),ht=lt(rt,at,'"plain" JavaScript object'),gt=ht;var yt=function(e,t,n,r,o,i){if(null==t&&Je("MissingArgument: no "+bt(e)+" given"),function(e,t,n,r){if(ot(e))try{for(var o=0,i=e.length;o<i;o++)if(0==t(e[o]))return!1;return!(null!=n&&e.length<n||null!=r&&e.length>r)}catch(e){}return!1}(t,n,o,i))return t;Je("InvalidArgument: the given "+bt(e)+" is "+(null==r?"either not a list or contains invalid elements":"no "+bt(r)))};function bt(e){return e.replace(/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?/g,(function(e){return"\\"===e?"\\\\":e})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}function xt(e,t){return void 0===t&&(t='"'),t+function(e,t){return void 0===t&&(t='"'),e.replace("'"===t?/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|'/g:/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|"/g,(function(e){switch(e){case"'":return"\\'";case'"':return'\\"';case"\\":return"\\\\";default:return e}})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}(e,t)+t}function $t(e){return!function(e){for(var t in vt("candidate",e),e)if(r=t,null==(n=e)||"hasOwnProperty"in n&&"function"==typeof n.hasOwnProperty?n.hasOwnProperty(r):Object.prototype.hasOwnProperty.call(n,r))return!1;var n,r;return!0}(e)}function wt(e,t,n){return void 0===t&&(t=-1/0),void 0===n&&(n=1/0),Math.max(t,Math.min(e,n))}var Dt,kt,Tt,Ot,Et=function(e,t,n){switch(!0){case null==t:throw new Error('no "Position" given');case"number"!=typeof t.left&&!(t.left instanceof Number):case"number"!=typeof t.top&&!(t.top instanceof Number):throw new Error('invalid "Position" given')}switch(e){case null:case void 0:throw new Error("no coordinate system given");case"viewport":return{left:t.left-window.scrollX,top:t.top-window.scrollY};case"document":return{left:t.left,top:t.top};case"local":switch(!0){case null==n:throw new Error("no target element given");case n instanceof Element:var r=window.getComputedStyle(n),o=parseFloat(r.borderLeftWidth),i=parseFloat(r.borderTopWidth),a=n.getBoundingClientRect();return{left:t.left+window.scrollX-a.left-o,top:t.top+window.scrollY-a.top-i};default:throw new Error("invalid target element given")}default:throw new Error("invalid coordinate system given")}};function At(e){var t,n,r,o,i,a,l,s,c,u,d,f,p;switch(t=(e=gt("drag options",e)||{}).Extras,!0){case null==e.relativeTo:n="parent";break;case"parent"===e.relativeTo:case"body"===e.relativeTo:case et(e.relativeTo):case e.relativeTo instanceof HTMLElement:case e.relativeTo instanceof SVGElement:n=e.relativeTo;break;default:Je("InvalidArgument: invalid position reference given")}switch(r=pt('"onlyFrom" CSS selector',e.onlyFrom),o=pt('"neverFrom" CSS selector',e.neverFrom),!0){case null==e.Dummy:i=void 0;break;case"standard"===e.Dummy:case"none"===e.Dummy:case et(e.Dummy):case e.Dummy instanceof HTMLElement:case e.Dummy instanceof SVGElement:case tt(e.Dummy):i=e.Dummy;break;default:Je("InvalidArgument: invalid drag dummy specification given")}if(a=st("dummy x offset",e.DummyOffsetX),l=st("dummy y offset",e.DummyOffsetY),null==(s=st("min. x position",e.minX))&&(s=-1/0),null==(c=st("min. y position",e.minY))&&(c=-1/0),null==(u=st("max. x position",e.maxX))&&(u=1/0),null==(d=st("max. y position",e.maxY))&&(d=1/0),rt(p=e.onDragStart)&&We(p.x)&&We(p.y)){var m=e.onDragStart,v=m.x,h=m.y;f=function(){return{x:v,y:h}}}else f=mt('"onDragStart" handler',e.onDragStart);return{Extras:t,relativeTo:n,onlyFrom:r,neverFrom:o,Dummy:i,DummyOffsetX:a,DummyOffsetY:l,minX:s,minY:c,maxX:u,maxY:d,onDragStart:f,onDragMove:mt('"onDragMove" handler',e.onDragMove),onDragEnd:mt('"onDragEnd" handler',e.onDragEnd),onDragCancel:undefined}}var St=["copy","move","link"];function Lt(e){return{Extras:(e=gt("drop options",e)||{}).Extras,Operations:qt("list of allowed operations",e.Operations,"copy"),DataToOffer:Object.assign({},gt("data to be offered",e.DataToOffer)),onDropZoneEnter:mt('"onDropZoneEnter" handler',e.onDropZoneEnter),onDropZoneHover:mt('"onDropZoneHover" handler',e.onDropZoneHover),onDropZoneLeave:mt('"onDropZoneLeave" handler',e.onDropZoneLeave),onDropped:mt('"onDropped" handler',e.onDropped)}}function It(e,t){var n,r,o,i,a;return!1,n=At(t),r=Lt(t),e.setAttribute("draggable","true"),e.addEventListener("dragstart",(function(t){var l=Object.assign({},n,r);if(function(e,t,n){if(null!=t.onlyFrom||null!=t.neverFrom){var r=document.elementFromPoint(n.clientX,n.clientY),o=r.closest(t.onlyFrom);if(e!==o&&!e.contains(o))return!0;if(e===(o=r.closest(t.neverFrom))||e.contains(o))return!0}return!1}(e,l,t))return t.stopPropagation(),t.preventDefault(),!1;o=function(e,t){var n;switch(!0){case"parent"===t.relativeTo:n=e.parentElement;break;case"body"===t.relativeTo:n=document.body;break;case t.relativeTo instanceof HTMLElement:case t.relativeTo instanceof SVGElement:(n=t.relativeTo)==document.body||document.body.contains(n)||Je('InvalidArgument: the HTML element given as "relativeTo" option is not part of this HTML document');break;default:n=e.closest(t.relativeTo)}return null==n?document.body:n}(e,l);var s,c=Et("local",{left:t.pageX,top:t.pageY},o);if(0,a={x:0,y:0},null==l.onDragStart)a={x:0,y:0};else try{var u=l.onDragStart(l.Extras);if(rt(u)){var d=st("x start position",u.x),f=st("y start position",u.y);d-c.left,f-c.top,d=wt(d,l.minX,l.maxX),f=wt(f,l.minY,l.maxY),a={x:d,y:f}}}catch(e){console.error('"onDragStart" handler failed',e)}if(a,void 0,void 0,!1,null==l.Dummy&&(l.Dummy="standard"),null!=(i=function(e,t){switch(!0){case"standard"===t.Dummy:return;case"none"===t.Dummy:var n=document.createElement("div");return n.setAttribute("style","display:block; position:absolute; width:1px; height:1px; background:transparent; border:none; margin:0px; padding:0px; cursor:auto"),document.body.appendChild(n),n;case et(t.Dummy):var r=document.createElement("div");return r.style.display="block",r.style.position="absolute",r.style.left=document.body.scrollWidth+100+"px",document.body.appendChild(r),r.innerHTML=t.Dummy,r.children[0];case t.Dummy instanceof HTMLElement:case t.Dummy instanceof SVGElement:return t.Dummy;case tt(t.Dummy):var o=void 0;try{o=t.Dummy(t.Extras,e)}catch(e){console.error("RuntimeError: creating draggable dummy failed",e)}if(null!=o){if(o instanceof HTMLElement||o instanceof SVGElement)return o;console.error("InvalidArgument: the newly created draggable dummy is neither an HTML nor an SVG element")}}}(e,l))&&null!=t.dataTransfer){var p=l.DummyOffsetX,m=l.DummyOffsetY;if(null==p||null==m){var v=Et("local",{left:t.pageX,top:t.pageY},e);null==p&&(p=v.left),null==m&&(m=v.top)}switch(!0){case"none"===l.Dummy:t.dataTransfer.setDragImage(i,0,0),setTimeout((function(){document.body.removeChild(i)}),0);break;case Ue(l.Dummy):t.dataTransfer.setDragImage(i,p,m),setTimeout((function(){document.body.removeChild(i.parentElement)}),0);break;default:t.dataTransfer.setDragImage(i,p,m)}}if(null!=t.dataTransfer){var h=["none","copy","link","copyLink","move","copyMove","linkMove","all"][2*(2*((s=l.Operations).indexOf("move")<0?0:1)+(s.indexOf("link")<0?0:1))+(s.indexOf("copy")<0?0:1)];if(t.dataTransfer.effectAllowed=h,$t(l.DataToOffer))for(var g in l.DataToOffer)l.DataToOffer.hasOwnProperty(g)&&t.dataTransfer.setData(g,l.DataToOffer[g])}Dt=l.Extras,void 0,Tt=void 0,!1,void 0,Ot=void 0,void 0,setTimeout((function(){return e.classList.add("dragged")}),0),t.stopPropagation()})),e.addEventListener("drag",(function(e){return!1})),e.addEventListener("dragend",(function(e){return!1})),{update:function(e){!function(e){e=At(e),n.Dummy=e.Dummy||n.Dummy,n.minX=e.minX,n.minY=e.minY,n.maxX=e.maxX,n.maxY=e.maxY,n.onDragStart=e.onDragStart||n.onDragStart}(e),function(e){null!=(e=Lt(e)).Extras&&(r.Extras=e.Extras)}(e)}}}function Ft(e){var t,n;for(var r in t=(e=gt("drop zone options",e)||{}).Extras,ht("data types to be accepted",e.TypesToAccept),n=Object.create(null),e.TypesToAccept)e.TypesToAccept.hasOwnProperty(r)&&(n[r]=qt("list of accepted operations for type "+xt(r),e.TypesToAccept[r]));return{Extras:t,TypesToAccept:n,HoldDelay:ut("min. time to hold",e.HoldDelay,0),onDroppableEnter:mt('"onDroppableEnter" handler',e.onDroppableEnter),onDroppableMove:mt('"onDroppableMove" handler',e.onDroppableMove),onDroppableLeave:mt('"onDroppableLeave" handler',e.onDroppableLeave),onDroppableHold:mt('"onDroppableHold" handler',e.onDroppableHold),onDroppableRelease:mt('"onDroppableRelease" handler',e.onDroppableRelease),onDrop:mt('"onDrop" handler',e.onDrop)}}function Mt(e,t){var n;return n=Ft(t),e.setAttribute("draggable","true"),e.addEventListener("dragenter",(function(t){if(null!=t.dataTransfer&&"none"!==t.dataTransfer.effectAllowed){var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&""!==i[e]}));if(0!==a.length){var l=Pt(Et("local",{left:t.pageX,top:t.pageY},e));!1!==Rt("onDroppableEnter",r,l.x,l.y,o,a,Dt,r.Extras)&&(r.Extras,kt=e,Tt=l,e.classList.add("hovered"),t.preventDefault(),t.stopPropagation())}}})),e.addEventListener("dragover",(function(t){if(null!=t.dataTransfer&&"none"!==t.dataTransfer.effectAllowed&&kt===e){var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&""!==i[e]}));if(0!==a.length){if(Tt=Pt(Et("local",{left:t.pageX,top:t.pageY},e)),!1!==Rt("onDroppableMove",r,Tt.x,Tt.y,o,a,Dt,r.Extras))return t.preventDefault(),!1;void 0,kt=void 0,Tt=void 0,e.classList.remove("hovered")}else kt===e&&(void 0,kt=void 0,Tt=void 0,e.classList.remove("hovered"))}})),e.addEventListener("dragleave",(function(t){var r=n;kt===e&&(null==Ot&&(void 0,kt=void 0,!1,Tt=void 0,Ot=void 0,void 0,e.classList.remove("hovered"),_t("onDroppableLeave",r,Dt,r.Extras)),t.preventDefault(),t.stopPropagation())})),e.addEventListener("drop",(function(t){if(null!=t.dataTransfer&&"none"!==t.dataTransfer.effectAllowed&&kt===e){t.stopPropagation();var r=n,o=t.dataTransfer.dropEffect;if("none"===o)switch(t.dataTransfer.effectAllowed){case"copy":case"move":case"link":o=t.dataTransfer.effectAllowed;break;default:o=void 0}var i=r.TypesToAccept,a=t.dataTransfer.types.filter((function(e){return e in i&&(null==o||i[e].indexOf(o)>=0)}));if(0===a.length)return void 0,Tt=void 0,!1,void 0,Ot=void 0,void 0,e.classList.remove("hovered"),void _t("onDroppableLeave",r,Dt,r.Extras);Tt=Pt(Et("local",{left:t.pageX,top:t.pageY},e));var l={};a.forEach((function(e){return l[e]=t.dataTransfer.getData(e)}));var s=Rt("onDrop",r,Tt.x,Tt.y,o,l,Dt,r.Extras);switch(!0){case null==s:!0,o,Ot=void 0,void 0;break;case it(s,a):!0,o,Ot=s,l[s];break;default:!1,void 0,Tt=void 0,void 0,Ot=void 0,void 0}kt=void 0,e.classList.remove("hovered")}})),{update:function(e){null!=(e=Ft(e)).Extras&&(n.Extras=e.Extras),$t(e.TypesToAccept)&&(n.TypesToAccept=e.TypesToAccept),null!=e.HoldDelay&&(n.HoldDelay=e.HoldDelay)}}}function Pt(e){return{x:e.left,y:e.top}}function qt(e,t,n){void 0===n&&(n="copy move link");var r=ft(e,t)||n;switch(r.trim()){case"all":return"copy move link";case"none":return""}var o=r.trim().replace(/\s+/g," ").split(" ");return function(e,t,n,r,o,i){null==t||yt(e,t,n,r,o,i)}(e,o,(function(e){return it(e,St)})),o.reduce((function(e,t){return e.indexOf(t)<0?e+t+" ":e})," ")}function _t(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(null!=t[e])try{return t[e].apply(null,n)}catch(t){console.error(xt(e)+" handler failed",t)}}var Rt=_t;function Ct(e,t,n){const r=e.slice();return r[63]=t[n],r[65]=n,r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".List.svelte-xq0rks.svelte-xq0rks{display:inline-block;position:relative;margin:0px;padding:0px 0px 4px 0px;list-style:none}.withoutTextSelection.svelte-xq0rks.svelte-xq0rks{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.List.svelte-xq0rks>li.svelte-xq0rks{display:block;position:relative;border:none;margin:0px;padding:0px;list-style:none}.List.svelte-xq0rks>li.svelte-xq0rks:hover{background:royalblue }.selectableItem.selected.svelte-xq0rks.svelte-xq0rks{background:dodgerblue }.selectableItem.selected.svelte-xq0rks.svelte-xq0rks:hover{background:royalblue }.InsertionPoint.svelte-xq0rks.svelte-xq0rks{display:block;position:relative;width:100%;height:20px;background:transparent;border:none;margin:0px;padding:0px;list-style:none}.AttachmentPoint.svelte-xq0rks.svelte-xq0rks{display:block;position:relative;width:100%;height:20px;background:transparent;border:none;margin:0px;padding:0px;list-style:none}.Placeholder.svelte-xq0rks.svelte-xq0rks{display:flex;position:absolute;left:0px;top:0px;right:0px;height:100%;flex-flow:column nowrap;justify-content:center;align-items:center}",{insertAt:"top"});const jt=e=>({Item:1&e[0],Index:1&e[0]}),zt=e=>({Item:e[63],Index:e[65]}),Nt=e=>({Item:1&e[0],Index:1&e[0]}),Ht=e=>({Item:e[63],Index:e[65]});function Zt(t){let n,r,o=(t[5]||"(empty list)")+"";return{c(){n=y("li"),r=b(o),D(n,"class","Placeholder svelte-xq0rks")},m(e,t){h(e,n,t),v(n,r)},p(e,t){32&t[0]&&o!==(o=(e[5]||"(empty list)")+"")&&T(r,o)},i:e,o:e,d(e){e&&g(n)}}}function Xt(e){let t,n,r,o=[],i=new Map,a=e[0];const l=e=>e[9](e[63]);for(let t=0;t<a.length;t+=1){let n=Ct(e,a,t),r=l(n);i.set(r,o[t]=Bt(r,n))}let s=(e[1]||e[12])&&Jt(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=x(),s&&s.c(),n=$()},m(e,i){for(let t=0;t<o.length;t+=1)o[t].m(e,i);h(e,t,i),s&&s.m(e,i),h(e,n,i),r=!0},p(e,r){4194271&r[0]|16384&r[1]&&(a=e[0],H(),o=function(e,t,n,r,o,i,a,l,s,c,u,d){let f=e.length,p=i.length,m=f;const v={};for(;m--;)v[e[m].key]=m;const h=[],g=new Map,y=new Map;for(m=p;m--;){const e=d(o,i,m),l=n(e);let s=a.get(l);s?r&&s.p(e,t):(s=c(l,e),s.c()),g.set(l,h[m]=s),l in v&&y.set(l,Math.abs(m-v[l]))}const b=new Set,x=new Set;function $(e){X(e,1),e.m(l,u),a.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=h[p-1],n=e[f-1],r=t.key,o=n.key;t===n?(u=t.first,f--,p--):g.has(o)?!a.has(r)||b.has(r)?$(t):x.has(o)?f--:y.get(r)>y.get(o)?(x.add(r),$(t)):(b.add(o),f--):(s(n,a),f--)}for(;f--;){const t=e[f];g.has(t.key)||s(t,a)}for(;p;)$(h[p-1]);return h}(o,r,l,1,e,a,i,t.parentNode,K,Bt,t,Ct),Z()),e[1]||e[12]?s?s.p(e,r):(s=Jt(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i(e){if(!r){for(let e=0;e<a.length;e+=1)X(o[e]);r=!0}},o(e){for(let e=0;e<o.length;e+=1)Y(o[e]);r=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&g(t),s&&s.d(e),e&&g(n)}}}function Yt(e){let t,n,r,o;const i=e[46].default,a=l(i,e,e[45],zt),s=a||function(e){let t,n=e[9](e[63])+"";return{c(){t=b(n)},m(e,n){h(e,t,n)},p(e,r){513&r[0]&&n!==(n=e[9](e[63])+"")&&T(t,n)},d(e){e&&g(t)}}}(e);function u(...t){return e[48](e[63],...t)}return{c(){t=y("li"),s&&s.c(),D(t,"class","svelte-xq0rks"),O(t,"selectableItem",null==e[2]&&null==e[3]),O(t,"selected",e[6](e[63]))},m(e,i){h(e,t,i),s&&s.m(t,null),n=!0,r||(o=w(t,"click",u),r=!0)},p(r,o){e=r,a?a.p&&(!n||1&o[0]|16384&o[1])&&c(a,i,e,e[45],n?o:[-1,-1,-1],jt,zt):s&&s.p&&(!n||513&o[0])&&s.p(e,n?o:[-1,-1,-1]),12&o[0]&&O(t,"selectableItem",null==e[2]&&null==e[3]),65&o[0]&&O(t,"selected",e[6](e[63]))},i(e){n||(X(s,e),n=!0)},o(e){Y(s,e),n=!1},d(e){e&&g(t),s&&s.d(e),r=!1,o()}}}function Kt(e){let t,n,r,a,s,u,f,p=e[63]===e[10]&&Vt(e);const m=e[46].default,v=l(m,e,e[45],Ht),$=v||function(e){let t,n=e[9](e[63])+"";return{c(){t=b(n)},m(e,n){h(e,t,n)},p(e,r){513&r[0]&&n!==(n=e[9](e[63])+"")&&T(t,n)},d(e){e&&g(t)}}}(e);function k(...t){return e[47](e[63],...t)}return{c(){p&&p.c(),t=x(),n=y("li"),$&&$.c(),D(n,"class","svelte-xq0rks"),O(n,"selectableItem",null==e[2]&&null==e[3]),O(n,"selected",e[6](e[63]))},m(o,i){p&&p.m(o,i),h(o,t,i),h(o,n,i),$&&$.m(n,null),s=!0,u||(f=[w(n,"click",k),d(r=It.call(null,n,{Extras:{List:e[0],Item:e[63]},neverFrom:e[8],onlyFrom:e[7],Dummy:e[14],onDragStart:e[15],onDragEnd:e[16],onDropped:e[17]})),d(a=Mt.call(null,n,{Extras:{List:e[0],Item:e[63],ItemList:void 0},onDrop:e[21],onDroppableEnter:e[18],onDroppableMove:e[19],onDroppableLeave:e[20]}))],u=!0)},p(o,l){(e=o)[63]===e[10]?p?p.p(e,l):(p=Vt(e),p.c(),p.m(t.parentNode,t)):p&&(p.d(1),p=null),v?v.p&&(!s||1&l[0]|16384&l[1])&&c(v,m,e,e[45],s?l:[-1,-1,-1],Nt,Ht):$&&$.p&&(!s||513&l[0])&&$.p(e,s?l:[-1,-1,-1]),r&&i(r.update)&&385&l[0]&&r.update.call(null,{Extras:{List:e[0],Item:e[63]},neverFrom:e[8],onlyFrom:e[7],Dummy:e[14],onDragStart:e[15],onDragEnd:e[16],onDropped:e[17]}),a&&i(a.update)&&1&l[0]&&a.update.call(null,{Extras:{List:e[0],Item:e[63],ItemList:void 0},onDrop:e[21],onDroppableEnter:e[18],onDroppableMove:e[19],onDroppableLeave:e[20]}),12&l[0]&&O(n,"selectableItem",null==e[2]&&null==e[3]),65&l[0]&&O(n,"selected",e[6](e[63]))},i(e){s||(X($,e),s=!0)},o(e){Y($,e),s=!1},d(e){p&&p.d(e),e&&g(t),e&&g(n),$&&$.d(e),u=!1,o(f)}}}function Vt(e){let t,n,r,o,a,l=(e[4]||"drop here")+"";return{c(){t=y("li"),n=b(l),D(t,"class","svelte-xq0rks"),O(t,"InsertionPoint",null==e[2]&&null==e[3])},m(i,l){h(i,t,l),v(t,n),o||(a=d(r=Mt.call(null,t,{Extras:{List:e[0],Item:e[63]},onDrop:e[21],onDroppableEnter:e[18],onDroppableMove:e[19],onDroppableLeave:e[20]})),o=!0)},p(o,a){e=o,16&a[0]&&l!==(l=(e[4]||"drop here")+"")&&T(n,l),r&&i(r.update)&&1&a[0]&&r.update.call(null,{Extras:{List:e[0],Item:e[63]},onDrop:e[21],onDroppableEnter:e[18],onDroppableMove:e[19],onDroppableLeave:e[20]}),12&a[0]&&O(t,"InsertionPoint",null==e[2]&&null==e[3])},d(e){e&&g(t),o=!1,a()}}}function Bt(e,t){let n,r,o,i,a;const l=[Kt,Yt],s=[];function c(e,t){return e[1]||e[12]||e[11]?0:1}return r=c(t),o=s[r]=l[r](t),{key:e,first:null,c(){n=$(),o.c(),i=$(),this.first=n},m(e,t){h(e,n,t),s[r].m(e,t),h(e,i,t),a=!0},p(e,n){let a=r;r=c(t=e),r===a?s[r].p(t,n):(H(),Y(s[a],1,1,(()=>{s[a]=null})),Z(),o=s[r],o?o.p(t,n):(o=s[r]=l[r](t),o.c()),X(o,1),o.m(i.parentNode,i))},i(e){a||(X(o),a=!0)},o(e){Y(o),a=!1},d(e){e&&g(n),s[r].d(e),e&&g(i)}}}function Jt(e){let t,n,r,o,a;return{c(){t=y("li"),n=b(e[4]),D(t,"class","AttachmentPoint svelte-xq0rks")},m(i,l){h(i,t,l),v(t,n),o||(a=d(r=Mt.call(null,t,{Extras:{List:e[0],Item:void 0,ItemList:void 0},onDroppableEnter:e[18],onDroppableMove:e[19],onDrop:e[21]})),o=!0)},p(e,t){16&t[0]&&T(n,e[4]),r&&i(r.update)&&1&t[0]&&r.update.call(null,{Extras:{List:e[0],Item:void 0,ItemList:void 0},onDroppableEnter:e[18],onDroppableMove:e[19],onDrop:e[21]})},d(e){e&&g(t),o=!1,a()}}}function Wt(e){let n,r,o,i;const a=[Xt,Zt],l=[];function s(e,t){return e[0].length>0?0:1}r=s(e),o=l[r]=a[r](e);let c=[{class:e[2]},{style:e[3]},e[22]],u={};for(let e=0;e<c.length;e+=1)u=t(u,c[e]);return{c(){n=y("ul"),o.c(),k(n,u),O(n,"List",null==e[2]&&null==e[3]),O(n,"withoutTextSelection",!0),O(n,"svelte-xq0rks",!0)},m(e,t){h(e,n,t),l[r].m(n,null),i=!0},p(e,t){let d=r;r=s(e),r===d?l[r].p(e,t):(H(),Y(l[d],1,1,(()=>{l[d]=null})),Z(),o=l[r],o?o.p(e,t):(o=l[r]=a[r](e),o.c()),X(o,1),o.m(n,null)),k(n,u=function(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const a=e[i],l=t[i];if(l){for(const e in a)e in l||(r[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[i]=l}else for(const e in a)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(c,[(!i||4&t[0])&&{class:e[2]},(!i||8&t[0])&&{style:e[3]},4194304&t[0]&&e[22]])),O(n,"List",null==e[2]&&null==e[3]),O(n,"withoutTextSelection",!0),O(n,"svelte-xq0rks",!0)},i(e){i||(X(o),i=!0)},o(e){Y(o),i=!1},d(e){e&&g(n),l[r].d()}}}function Gt(e,n,r){const o=["class","style","List","Key","SelectionLimit","Instruction","Placeholder","select","selectOnly","selectAll","selectRange","deselect","deselectAll","toggleSelectionOf","selectedItems","SelectionCount","isSelected","sortable","onlyFrom","neverFrom","onSortRequest","onSort","Operations","DataToOffer","TypesToAccept","onOuterDropRequest","onDroppedOutside","onDropFromOutside"];let i=u(n,o),{$$slots:a={},$$scope:l}=n;const s=A();let c,d,f="uid-"+ ++Be,{class:p}=n,{style:m}=n,{List:v}=n,{Key:h}=n,{SelectionLimit:g}=n,{Instruction:y}=n,{Placeholder:b}=n;let x,$,w=new WeakMap;function D(...e){let t=I();e.forEach((e=>{c(e)in d?w.has(e)||(null==g||t<g)&&(w.set(e,!0),t++,s("selected-item",e)):J('InvalidArgument: one or multiple of the given items to select are not part of the given "List"')})),x=1===e.length?e[0]:void 0,$=void 0,he()}function k(...e){ge(L(),e)&&(E(),D(...e))}function T(e){if(null==x)return void D(e);if(x===e)return;null!=$&&function(e){let t=v.indexOf(x),n=v.indexOf(e),r=Math.min(t,n),o=Math.max(t,n);for(let e=r;e<=o;e++)w.has(v[e])&&(w.delete(v[e]),s("deselected-item",v[e]))}($);let t=v.indexOf(x),n=v.indexOf(e),r=Math.min(t,n),o=Math.max(t,n),i=I();for(let e=r;e<=o;e++)w.has(v[e])||(null==g||i<g)&&(w.set(v[e],!0),s("selected-item",v[e]));$=e,he()}function O(...e){e.forEach((e=>{c(e)in d?w.has(e)&&(w.delete(e),s("deselected-item",e)):J('InvalidArgument: one or multiple of the given items to deselect are not part of the given "List"')})),x=$=void 0,he()}function E(){v.forEach((e=>{w.has(e)&&(w.delete(e),s("deselected-item",e))})),x=$=void 0,he()}function S(...e){x=void 0;let t=[];e.forEach((e=>{c(e)in d?w.has(e)?(w.delete(e),s("deselected-item",e)):t.push(e):J('InvalidArgument: one or multiple of the given items to select or deselect are not part of the given "List"')}));let n=I();if(null!=g){let e=g-n;e<t.length&&(t.length=e)}t.forEach((t=>{w.set(t,!0),s("selected-item",t),1===e.length&&(x=t,$=void 0)})),he()}function L(){return v.filter((e=>w.has(e)))}function I(){return v.reduce(((e,t)=>e+(w.has(t)?1:0)),0)}function F(e){return w.has(e)}function M(e,t){switch(!0){case 0===e.buttons&&0!==e.button:case 0!==e.buttons&&1!==e.buttons:return;case"coarse"===Ve.PointingAccuracy:case e.ctrlKey:case e.metaKey:S(t);break;case e.shiftKey:T(t);break;default:k(t)}e.preventDefault(),e.stopPropagation()}let P,q,_,R,C=!1,{sortable:j=!1}=n,{onlyFrom:z}=n,{neverFrom:N}=n,{onSortRequest:H}=n,{onSort:Z}=n,{Operations:X}=n,{DataToOffer:Y}=n,{TypesToAccept:K}=n,{onOuterDropRequest:V}=n,{onDroppedOutside:B}=n,{onDropFromOutside:W}=n;function G(e,t,n="copy move link"){let r=ce(e,t)||n;switch(r.trim()){case"all":return"copy move link";case"none":return""}let o=r.trim().replace(/\s+/g," ").split(" ");return pe(e,o,(e=>St.indexOf(e)>=0)),o.reduce(((e,t)=>e.indexOf(t)<0?e+t+" ":e)," ")}function U(e){for(let e in Set)if(Set.hasOwnProperty(e)&&e!==f)return!0;return!1}let Q=!1,re=!1;function ie(e,t,n,o,i,a){if((i&&i.Item)==(a&&a.Item))return r(10,q=void 0),!1;let l=!0;if(v===(i&&i.List))if(j){if(null!=H)try{l=H(e,t,a,i)}catch(e){l=!1,console.error('RuntimeError: callback "onSortRequest" failed',e)}}else l=!1;else if(null!=V)try{l=V(e,t,n,o,a,i)}catch(e){l=!1,console.error('RuntimeError: callback "onOuterDropRequest" failed',e)}return r(10,q=l?a.Item:void 0),l&&"link"!==n}const ae=ie;function ve(e){let t=Object.create(null);return e.forEach((e=>{let n=c(e);t[n]=e})),t}function he(){r(0,v)}return e.$$set=e=>{n=t(t({},n),function(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}(e)),r(22,i=u(n,o)),"class"in e&&r(2,p=e.class),"style"in e&&r(3,m=e.style),"List"in e&&r(0,v=e.List),"Key"in e&&r(23,h=e.Key),"SelectionLimit"in e&&r(24,g=e.SelectionLimit),"Instruction"in e&&r(4,y=e.Instruction),"Placeholder"in e&&r(5,b=e.Placeholder),"sortable"in e&&r(1,j=e.sortable),"onlyFrom"in e&&r(7,z=e.onlyFrom),"neverFrom"in e&&r(8,N=e.neverFrom),"onSortRequest"in e&&r(34,H=e.onSortRequest),"onSort"in e&&r(35,Z=e.onSort),"Operations"in e&&r(36,X=e.Operations),"DataToOffer"in e&&r(37,Y=e.DataToOffer),"TypesToAccept"in e&&r(38,K=e.TypesToAccept),"onOuterDropRequest"in e&&r(39,V=e.onOuterDropRequest),"onDroppedOutside"in e&&r(40,B=e.onDroppedOutside),"onDropFromOutside"in e&&r(41,W=e.onDropFromOutside),"$$scope"in e&&r(45,l=e.$$scope)},e.$$.update=()=>{if(4&e.$$.dirty[0]&&ue('"class" attribute',p),8&e.$$.dirty[0]&&ue('"style" attribute',m),1&e.$$.dirty[0]&&r(0,v=me('"List" attribute',v,ne)||[]),8388608&e.$$.dirty[0])switch(!0){case null==h:r(9,c=e=>String(e));break;case ee(h):r(9,c=e=>String(e[h]));break;case te(h):r(9,c=e=>String(h(e)));break;default:J('InvalidArgument: the given "Key" attribute is neither a non-empty string nor a function returning such a string')}if(16777216&e.$$.dirty[0]&&se("selection limit",g),16&e.$$.dirty[0]&&ue('"Instruction" attribute',y),32&e.$$.dirty[0]&&ue('"Placeholder" attribute',b),8388609&e.$$.dirty[0]&&(d=Object.create(null),v.forEach((e=>{let t=c(e);t in d?d[t]===e?J('InvalidArgument: the given "List" contains the same item multiple times'):J('InvalidArgument: the given "Key" does not produce unique keys for every "List" item'):d[t]=e}))),16777217&e.$$.dirty[0]&&null!=g&&I()>g){let e=0;v.forEach((t=>{w.has(t)&&(e++,e>g&&O(t))}))}if(2&e.$$.dirty[0]&&r(1,j=le('"sortable" attribute',j)||!1),128&e.$$.dirty[0]&&ue('"onlyFrom" CSS selector list',z),256&e.$$.dirty[0]&&ue('"neverFrom" CSS selector list',N),8&e.$$.dirty[1]&&de('"onSortRequest" callback',H),16&e.$$.dirty[1]&&de('"onSort" callback',Z),32&e.$$.dirty[1]&&G("list of allowed operations",X),64&e.$$.dirty[1]&&fe('"DataToOffer" attribute',Y),128&e.$$.dirty[1]&&fe('"TypesToAccept" attribute',K),256&e.$$.dirty[1]&&de('"onOuterDropRequest" callback',V),512&e.$$.dirty[1]&&de('"onDroppedOutside" callback',B),1024&e.$$.dirty[1]&&de('"onDropFromOutside" callback',W),2&e.$$.dirty[0]|2112&e.$$.dirty[1]&&(C||(r(43,_=Object.assign({},Y)),j&&r(43,_[f]="",_))),2&e.$$.dirty[0]|2176&e.$$.dirty[1]&&!C){r(44,R={});for(let e in K)K.hasOwnProperty(e)&&r(44,R[e]=G("list of accepted operations for type "+(void 0===(t=void 0)&&(t='"'),t+function(e,t){return void 0===t&&(t='"'),e.replace("'"===t?/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|'/g:/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|"/g,(function(e){switch(e){case"'":return"\\'";case'"':return'\\"';case"\\":return"\\\\";default:return e}})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}(e,t)+t),K[e]),R);j&&r(44,R[f]="copy",R)}var t;14336&e.$$.dirty[1]&&(C||(r(11,Q=U()),r(12,re=U())))},[v,j,p,m,y,b,F,z,N,c,q,Q,re,M,function(e,t){let n=t.cloneNode(!0);if(n.style.display="block",n.style.position="absolute",n.style.left=document.body.scrollWidth+100+"px",P.length>1){let e=document.createElement("div");e.setAttribute("style","display:block; position:absolute; top:-10px; right:-10px; width:20px; height:20px; background:red; color:white; border:none; border-radius:10px; margin:0px; padding:0px; line-height:20px; text-align:center"),e.innerText="+"+(P.length-1),n.appendChild(e)}return document.body.appendChild(n),setTimeout((()=>{document.body.removeChild(n)}),0),n},function(e){return r(42,C=!0),P=L(),F(e.Item)||P.push(e.Item),e.ItemList=P,{x:0,y:0}},function(e,t,n,o,i){r(42,C=!1),P=void 0},function(e,t,n,r,o,i,a){if(!(null!=i&&i.List===v))if(null!=B){try{B(e,t,n,r,o,i,a)}catch(e){console.error('RuntimeError: callback "onDroppedOutside" failed',e)}he()}else{let e=ve(a.ItemList);for(let t=v.length-1;t>=0;t--){c(v[t])in e&&v.splice(t,1)}s("removed-items",a.ItemList.slice()),he()}},ie,ae,function(e,t){r(10,q=void 0)},function(e,t,n,o,i,a){if(r(10,q=void 0),(i&&i.Item)==(a&&a.Item))return"none";if(v===(i&&i.List)){if(j){if(null==Z){let e=i.ItemList,t=ve(e);for(let e=v.length-1;e>=0;e--){c(v[e])in t&&v.splice(e,1)}let n=v.indexOf(a&&a.Item);n<0&&(n=v.length),v.splice.apply(v,[n,0].concat(e)),s("shifted-items",[e,n]),he()}else{try{Z(a.Item,i.ItemList)}catch(e){console.error('RuntimeError: callback "onSort" failed',e)}he()}return n}return"none"}if(null==W){let e=i&&i.ItemList;if(!function(e,t,n){if(oe(e)){for(var r=0,o=e.length;r<o;r++)if(void 0===e[r])return!1;return!(null!=t&&e.length<t||null!=n&&e.length>n)}return!1}(e))return"none";let t=v.indexOf(a&&a.Item);return t<0&&(t=v.length),v.splice.apply(v,[t,0].concat(e)),s("inserted-items",[e,t]),he(),n}{let r="none";try{r=W(e,t,n,o,i,a)}catch(e){console.error('RuntimeError: callback "onSort" failed',e)}return he(),r||"none"}},i,h,g,D,k,function(){let e=I();v.forEach((t=>{w.has(t)||(null==g||e<g)&&(w.set(t,!0),e++,s("selected-item",t))})),x=$=void 0,he()},T,O,E,S,L,I,H,Z,X,Y,K,V,B,W,C,_,R,l,a,(e,t)=>M(t,e),(e,t)=>M(t,e)]}return class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),B(this,e,Gt,Wt,a,{class:2,style:3,List:0,Key:23,SelectionLimit:24,Instruction:4,Placeholder:5,select:25,selectOnly:26,selectAll:27,selectRange:28,deselect:29,deselectAll:30,toggleSelectionOf:31,selectedItems:32,SelectionCount:33,isSelected:6,sortable:1,onlyFrom:7,neverFrom:8,onSortRequest:34,onSort:35,Operations:36,DataToOffer:37,TypesToAccept:38,onOuterDropRequest:39,onDroppedOutside:40,onDropFromOutside:41},[-1,-1,-1])}get class(){return this.$$.ctx[2]}set class(e){this.$set({class:e}),C()}get style(){return this.$$.ctx[3]}set style(e){this.$set({style:e}),C()}get List(){return this.$$.ctx[0]}set List(e){this.$set({List:e}),C()}get Key(){return this.$$.ctx[23]}set Key(e){this.$set({Key:e}),C()}get SelectionLimit(){return this.$$.ctx[24]}set SelectionLimit(e){this.$set({SelectionLimit:e}),C()}get Instruction(){return this.$$.ctx[4]}set Instruction(e){this.$set({Instruction:e}),C()}get Placeholder(){return this.$$.ctx[5]}set Placeholder(e){this.$set({Placeholder:e}),C()}get select(){return this.$$.ctx[25]}get selectOnly(){return this.$$.ctx[26]}get selectAll(){return this.$$.ctx[27]}get selectRange(){return this.$$.ctx[28]}get deselect(){return this.$$.ctx[29]}get deselectAll(){return this.$$.ctx[30]}get toggleSelectionOf(){return this.$$.ctx[31]}get selectedItems(){return this.$$.ctx[32]}get SelectionCount(){return this.$$.ctx[33]}get isSelected(){return this.$$.ctx[6]}get sortable(){return this.$$.ctx[1]}set sortable(e){this.$set({sortable:e}),C()}get onlyFrom(){return this.$$.ctx[7]}set onlyFrom(e){this.$set({onlyFrom:e}),C()}get neverFrom(){return this.$$.ctx[8]}set neverFrom(e){this.$set({neverFrom:e}),C()}get onSortRequest(){return this.$$.ctx[34]}set onSortRequest(e){this.$set({onSortRequest:e}),C()}get onSort(){return this.$$.ctx[35]}set onSort(e){this.$set({onSort:e}),C()}get Operations(){return this.$$.ctx[36]}set Operations(e){this.$set({Operations:e}),C()}get DataToOffer(){return this.$$.ctx[37]}set DataToOffer(e){this.$set({DataToOffer:e}),C()}get TypesToAccept(){return this.$$.ctx[38]}set TypesToAccept(e){this.$set({TypesToAccept:e}),C()}get onOuterDropRequest(){return this.$$.ctx[39]}set onOuterDropRequest(e){this.$set({onOuterDropRequest:e}),C()}get onDroppedOutside(){return this.$$.ctx[40]}set onDroppedOutside(e){this.$set({onDroppedOutside:e}),C()}get onDropFromOutside(){return this.$$.ctx[41]}set onDropFromOutside(e){this.$set({onDropFromOutside:e}),C()}}}));
//# sourceMappingURL=svelte-sortable-flat-list-view.js.map
